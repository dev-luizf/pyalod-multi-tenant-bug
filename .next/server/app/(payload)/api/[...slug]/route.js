/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/(payload)/api/[...slug]/route";
exports.ids = ["app/(payload)/api/[...slug]/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_luiz_Imagens_multi_tenant_bug_src_app_payload_api_slug_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/(payload)/api/[...slug]/route.ts */ \"(rsc)/./src/app/(payload)/api/[...slug]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/(payload)/api/[...slug]/route\",\n        pathname: \"/api/[...slug]\",\n        filename: \"route\",\n        bundlePath: \"app/(payload)/api/[...slug]/route\"\n    },\n    resolvedPagePath: \"/home/luiz/Imagens/multi-tenant-bug/src/app/(payload)/api/[...slug]/route.ts\",\n    nextConfigOutput,\n    userland: _home_luiz_Imagens_multi_tenant_bug_src_app_payload_api_slug_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkYocGF5bG9hZCklMkZhcGklMkYlNUIuLi5zbHVnJTVEJTJGcm91dGUmcGFnZT0lMkYocGF5bG9hZCklMkZhcGklMkYlNUIuLi5zbHVnJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGKHBheWxvYWQpJTJGYXBpJTJGJTVCLi4uc2x1ZyU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGbHVpeiUyRkltYWdlbnMlMkZtdWx0aS10ZW5hbnQtYnVnJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGbHVpeiUyRkltYWdlbnMlMkZtdWx0aS10ZW5hbnQtYnVnJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUM0QjtBQUN6RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvc3JjL2FwcC8ocGF5bG9hZCkvYXBpL1suLi5zbHVnXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi8ocGF5bG9hZCkvYXBpL1suLi5zbHVnXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL1suLi5zbHVnXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC8ocGF5bG9hZCkvYXBpL1suLi5zbHVnXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9hcHAvKHBheWxvYWQpL2FwaS9bLi4uc2x1Z10vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/@payloadcms/richtext-lexical/dist/lexical/utils/environment.js */ \"(rsc)/./node_modules/@payloadcms/richtext-lexical/dist/lexical/utils/environment.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsdWl6JTJGSW1hZ2VucyUyRm11bHRpLXRlbmFudC1idWclMkZub2RlX21vZHVsZXMlMkYlNDBwYXlsb2FkY21zJTJGcmljaHRleHQtbGV4aWNhbCUyRmRpc3QlMkZsZXhpY2FsJTJGdXRpbHMlMkZlbnZpcm9ubWVudC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMklTX1NBRkFSSSUyMiUyQyUyMklTX0lPUyUyMiUyQyUyMklTX0FQUExFX1dFQktJVCUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsc1FBQThNIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJJU19TQUZBUklcIixcIklTX0lPU1wiLFwiSVNfQVBQTEVfV0VCS0lUXCJdICovIFwiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL3JpY2h0ZXh0LWxleGljYWwvZGlzdC9sZXhpY2FsL3V0aWxzL2Vudmlyb25tZW50LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(rsc)/./src/access/isSuperAdmin.ts":
/*!************************************!*\
  !*** ./src/access/isSuperAdmin.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSuperAdmin: () => (/* binding */ isSuperAdmin),\n/* harmony export */   isSuperAdminAccess: () => (/* binding */ isSuperAdminAccess)\n/* harmony export */ });\nconst isSuperAdminAccess = ({ req })=>{\n    return isSuperAdmin(req.user);\n};\nconst isSuperAdmin = (user)=>{\n    return Boolean(user?.roles?.includes('super-admin'));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYWNjZXNzL2lzU3VwZXJBZG1pbi50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUdPLE1BQU1BLHFCQUE2QixDQUFDLEVBQUVDLEdBQUcsRUFBRTtJQUNoRCxPQUFPQyxhQUFhRCxJQUFJRSxJQUFJO0FBQzlCLEVBQUM7QUFFTSxNQUFNRCxlQUFlLENBQUNDO0lBQzNCLE9BQU9DLFFBQVFELE1BQU1FLE9BQU9DLFNBQVM7QUFDdkMsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvc3JjL2FjY2Vzcy9pc1N1cGVyQWRtaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBY2Nlc3MgfSBmcm9tICdwYXlsb2FkJ1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL3BheWxvYWQtdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBpc1N1cGVyQWRtaW5BY2Nlc3M6IEFjY2VzcyA9ICh7IHJlcSB9KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBpc1N1cGVyQWRtaW4ocmVxLnVzZXIpXG59XG5cbmV4cG9ydCBjb25zdCBpc1N1cGVyQWRtaW4gPSAodXNlcjogVXNlciB8IG51bGwpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIEJvb2xlYW4odXNlcj8ucm9sZXM/LmluY2x1ZGVzKCdzdXBlci1hZG1pbicpKVxufVxuIl0sIm5hbWVzIjpbImlzU3VwZXJBZG1pbkFjY2VzcyIsInJlcSIsImlzU3VwZXJBZG1pbiIsInVzZXIiLCJCb29sZWFuIiwicm9sZXMiLCJpbmNsdWRlcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/access/isSuperAdmin.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/(payload)/api/[...slug]/route.ts":
/*!**************************************************!*\
  !*** ./src/app/(payload)/api/[...slug]/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _payload_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payload-config */ \"(rsc)/./src/payload.config.ts\");\n/* harmony import */ var _payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @payloadcms/next/routes */ \"(rsc)/./node_modules/@payloadcms/next/dist/exports/routes.js\");\n/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */ /* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */ \n\nconst GET = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__.REST_GET)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst POST = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__.REST_POST)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst DELETE = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__.REST_DELETE)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst PATCH = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__.REST_PATCH)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst OPTIONS = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_1__.REST_OPTIONS)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwLyhwYXlsb2FkKS9hcGkvWy4uLnNsdWddL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQsR0FDckQsK0RBQStELEdBQzNCO0FBQ2dFO0FBRTdGLE1BQU1NLE1BQU1KLGlFQUFRQSxDQUFDRix1REFBTUEsRUFBQztBQUM1QixNQUFNTyxPQUFPRixrRUFBU0EsQ0FBQ0wsdURBQU1BLEVBQUM7QUFDOUIsTUFBTVEsU0FBU1Asb0VBQVdBLENBQUNELHVEQUFNQSxFQUFDO0FBQ2xDLE1BQU1TLFFBQVFMLG1FQUFVQSxDQUFDSix1REFBTUEsRUFBQztBQUNoQyxNQUFNVSxVQUFVUCxxRUFBWUEsQ0FBQ0gsdURBQU1BLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9hcHAvKHBheWxvYWQpL2FwaS9bLi4uc2x1Z10vcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogVEhJUyBGSUxFIFdBUyBHRU5FUkFURUQgQVVUT01BVElDQUxMWSBCWSBQQVlMT0FELiAqL1xuLyogRE8gTk9UIE1PRElGWSBJVCBCRUNBVVNFIElUIENPVUxEIEJFIFJFV1JJVFRFTiBBVCBBTlkgVElNRS4gKi9cbmltcG9ydCBjb25maWcgZnJvbSAnQHBheWxvYWQtY29uZmlnJ1xuaW1wb3J0IHsgUkVTVF9ERUxFVEUsIFJFU1RfR0VULCBSRVNUX09QVElPTlMsIFJFU1RfUEFUQ0gsIFJFU1RfUE9TVCB9IGZyb20gJ0BwYXlsb2FkY21zL25leHQvcm91dGVzJ1xuXG5leHBvcnQgY29uc3QgR0VUID0gUkVTVF9HRVQoY29uZmlnKVxuZXhwb3J0IGNvbnN0IFBPU1QgPSBSRVNUX1BPU1QoY29uZmlnKVxuZXhwb3J0IGNvbnN0IERFTEVURSA9IFJFU1RfREVMRVRFKGNvbmZpZylcbmV4cG9ydCBjb25zdCBQQVRDSCA9IFJFU1RfUEFUQ0goY29uZmlnKVxuZXhwb3J0IGNvbnN0IE9QVElPTlMgPSBSRVNUX09QVElPTlMoY29uZmlnKVxuIl0sIm5hbWVzIjpbImNvbmZpZyIsIlJFU1RfREVMRVRFIiwiUkVTVF9HRVQiLCJSRVNUX09QVElPTlMiLCJSRVNUX1BBVENIIiwiUkVTVF9QT1NUIiwiR0VUIiwiUE9TVCIsIkRFTEVURSIsIlBBVENIIiwiT1BUSU9OUyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/(payload)/api/[...slug]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Organizations/access/updateAndDelete.ts":
/*!*****************************************************************!*\
  !*** ./src/collections/Organizations/access/updateAndDelete.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateAndDeleteAccess: () => (/* binding */ updateAndDeleteAccess)\n/* harmony export */ });\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n\n\nconst updateAndDeleteAccess = ({ req })=>{\n    if (!req.user) {\n        return false;\n    }\n    if ((0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__.isSuperAdmin)(req.user)) {\n        return true;\n    }\n    return {\n        id: {\n            in: (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_1__.getUserTenantIDs)(req.user, 'tenant-admin')\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvT3JnYW5pemF0aW9ucy9hY2Nlc3MvdXBkYXRlQW5kRGVsZXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUNXO0FBR3hELE1BQU1FLHdCQUFnQyxDQUFDLEVBQUVDLEdBQUcsRUFBRTtJQUNuRCxJQUFJLENBQUNBLElBQUlDLElBQUksRUFBRTtRQUNiLE9BQU87SUFDVDtJQUVBLElBQUlKLGtFQUFZQSxDQUFDRyxJQUFJQyxJQUFJLEdBQUc7UUFDMUIsT0FBTztJQUNUO0lBRUEsT0FBTztRQUNMQyxJQUFJO1lBQ0ZDLElBQUlMLDZFQUFnQkEsQ0FBQ0UsSUFBSUMsSUFBSSxFQUFFO1FBQ2pDO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvT3JnYW5pemF0aW9ucy9hY2Nlc3MvdXBkYXRlQW5kRGVsZXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzU3VwZXJBZG1pbiB9IGZyb20gJ0AvYWNjZXNzL2lzU3VwZXJBZG1pbidcbmltcG9ydCB7IGdldFVzZXJUZW5hbnRJRHMgfSBmcm9tICdAL3V0aWxpdGllcy9nZXRVc2VyVGVuYW50SURzJ1xuaW1wb3J0IHsgQWNjZXNzIH0gZnJvbSAncGF5bG9hZCdcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUFuZERlbGV0ZUFjY2VzczogQWNjZXNzID0gKHsgcmVxIH0pID0+IHtcbiAgaWYgKCFyZXEudXNlcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWYgKGlzU3VwZXJBZG1pbihyZXEudXNlcikpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZDoge1xuICAgICAgaW46IGdldFVzZXJUZW5hbnRJRHMocmVxLnVzZXIsICd0ZW5hbnQtYWRtaW4nKSxcbiAgICB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsiaXNTdXBlckFkbWluIiwiZ2V0VXNlclRlbmFudElEcyIsInVwZGF0ZUFuZERlbGV0ZUFjY2VzcyIsInJlcSIsInVzZXIiLCJpZCIsImluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Organizations/access/updateAndDelete.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Organizations/index.ts":
/*!************************************************!*\
  !*** ./src/collections/Organizations/index.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Organizations: () => (/* binding */ Organizations)\n/* harmony export */ });\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./access/updateAndDelete */ \"(rsc)/./src/collections/Organizations/access/updateAndDelete.ts\");\n\n\nconst Organizations = {\n    slug: 'organizations',\n    access: {\n        create: _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__.isSuperAdminAccess,\n        delete: _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_1__.updateAndDeleteAccess,\n        read: ({ req })=>Boolean(req.user),\n        update: _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_1__.updateAndDeleteAccess\n    },\n    admin: {\n        useAsTitle: 'name'\n    },\n    fields: [\n        {\n            name: 'name',\n            type: 'text',\n            required: true\n        },\n        {\n            name: 'domain',\n            type: 'text',\n            admin: {\n                description: 'Used for domain-based tenant handling'\n            }\n        },\n        {\n            name: 'slug',\n            type: 'text',\n            admin: {\n                description: 'Used for url paths, example: /tenant-slug/page-slug'\n            },\n            index: true,\n            required: true\n        },\n        {\n            name: 'allowPublicRead',\n            type: 'checkbox',\n            admin: {\n                description: 'If checked, logging in is not required to read. Useful for building public pages.',\n                position: 'sidebar'\n            },\n            defaultValue: false,\n            index: true\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvT3JnYW5pemF0aW9ucy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFMEQ7QUFDTTtBQUV6RCxNQUFNRSxnQkFBa0M7SUFDN0NDLE1BQU07SUFDTkMsUUFBUTtRQUNOQyxRQUFRTCxvRUFBa0JBO1FBQzFCTSxRQUFRTCwwRUFBcUJBO1FBQzdCTSxNQUFNLENBQUMsRUFBRUMsR0FBRyxFQUFFLEdBQUtDLFFBQVFELElBQUlFLElBQUk7UUFDbkNDLFFBQVFWLDBFQUFxQkE7SUFDL0I7SUFDQVcsT0FBTztRQUNMQyxZQUFZO0lBQ2Q7SUFDQUMsUUFBUTtRQUNOO1lBQ0VDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1FBQ1o7UUFDQTtZQUNFRixNQUFNO1lBQ05DLE1BQU07WUFDTkosT0FBTztnQkFDTE0sYUFBYTtZQUNmO1FBQ0Y7UUFDQTtZQUNFSCxNQUFNO1lBQ05DLE1BQU07WUFDTkosT0FBTztnQkFDTE0sYUFBYTtZQUNmO1lBQ0FDLE9BQU87WUFDUEYsVUFBVTtRQUNaO1FBQ0E7WUFDRUYsTUFBTTtZQUNOQyxNQUFNO1lBQ05KLE9BQU87Z0JBQ0xNLGFBQ0U7Z0JBQ0ZFLFVBQVU7WUFDWjtZQUNBQyxjQUFjO1lBQ2RGLE9BQU87UUFDVDtLQUNEO0FBQ0gsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvc3JjL2NvbGxlY3Rpb25zL09yZ2FuaXphdGlvbnMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcblxuaW1wb3J0IHsgaXNTdXBlckFkbWluQWNjZXNzIH0gZnJvbSAnQC9hY2Nlc3MvaXNTdXBlckFkbWluJ1xuaW1wb3J0IHsgdXBkYXRlQW5kRGVsZXRlQWNjZXNzIH0gZnJvbSAnLi9hY2Nlc3MvdXBkYXRlQW5kRGVsZXRlJ1xuXG5leHBvcnQgY29uc3QgT3JnYW5pemF0aW9uczogQ29sbGVjdGlvbkNvbmZpZyA9IHtcbiAgc2x1ZzogJ29yZ2FuaXphdGlvbnMnLFxuICBhY2Nlc3M6IHtcbiAgICBjcmVhdGU6IGlzU3VwZXJBZG1pbkFjY2VzcyxcbiAgICBkZWxldGU6IHVwZGF0ZUFuZERlbGV0ZUFjY2VzcyxcbiAgICByZWFkOiAoeyByZXEgfSkgPT4gQm9vbGVhbihyZXEudXNlciksXG4gICAgdXBkYXRlOiB1cGRhdGVBbmREZWxldGVBY2Nlc3MsXG4gIH0sXG4gIGFkbWluOiB7XG4gICAgdXNlQXNUaXRsZTogJ25hbWUnLFxuICB9LFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnbmFtZScsXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdkb21haW4nLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgYWRtaW46IHtcbiAgICAgICAgZGVzY3JpcHRpb246ICdVc2VkIGZvciBkb21haW4tYmFzZWQgdGVuYW50IGhhbmRsaW5nJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnc2x1ZycsXG4gICAgICB0eXBlOiAndGV4dCcsXG4gICAgICBhZG1pbjoge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ1VzZWQgZm9yIHVybCBwYXRocywgZXhhbXBsZTogL3RlbmFudC1zbHVnL3BhZ2Utc2x1ZycsXG4gICAgICB9LFxuICAgICAgaW5kZXg6IHRydWUsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdhbGxvd1B1YmxpY1JlYWQnLFxuICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgIGFkbWluOiB7XG4gICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICdJZiBjaGVja2VkLCBsb2dnaW5nIGluIGlzIG5vdCByZXF1aXJlZCB0byByZWFkLiBVc2VmdWwgZm9yIGJ1aWxkaW5nIHB1YmxpYyBwYWdlcy4nLFxuICAgICAgICBwb3NpdGlvbjogJ3NpZGViYXInLFxuICAgICAgfSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogZmFsc2UsXG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICB9LFxuICBdLFxufVxuIl0sIm5hbWVzIjpbImlzU3VwZXJBZG1pbkFjY2VzcyIsInVwZGF0ZUFuZERlbGV0ZUFjY2VzcyIsIk9yZ2FuaXphdGlvbnMiLCJzbHVnIiwiYWNjZXNzIiwiY3JlYXRlIiwiZGVsZXRlIiwicmVhZCIsInJlcSIsIkJvb2xlYW4iLCJ1c2VyIiwidXBkYXRlIiwiYWRtaW4iLCJ1c2VBc1RpdGxlIiwiZmllbGRzIiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwiaW5kZXgiLCJwb3NpdGlvbiIsImRlZmF1bHRWYWx1ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Organizations/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Pages/access/superAdminOrTenantAdmin.ts":
/*!*****************************************************************!*\
  !*** ./src/collections/Pages/access/superAdminOrTenantAdmin.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   superAdminOrTenantAdminAccess: () => (/* binding */ superAdminOrTenantAdminAccess)\n/* harmony export */ });\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n\n\n/**\n * Tenant admins and super admins can will be allowed access\n */ const superAdminOrTenantAdminAccess = ({ req })=>{\n    if (!req.user) {\n        return false;\n    }\n    if ((0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__.isSuperAdmin)(req.user)) {\n        return true;\n    }\n    return {\n        tenant: {\n            in: (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__.getUserTenantIDs)(req.user, 'tenant-admin')\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvUGFnZXMvYWNjZXNzL3N1cGVyQWRtaW5PclRlbmFudEFkbWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErRDtBQUNKO0FBRzNEOztDQUVDLEdBQ00sTUFBTUUsZ0NBQXdDLENBQUMsRUFBRUMsR0FBRyxFQUFFO0lBQzNELElBQUksQ0FBQ0EsSUFBSUMsSUFBSSxFQUFFO1FBQ2IsT0FBTztJQUNUO0lBRUEsSUFBSUgsa0VBQVlBLENBQUNFLElBQUlDLElBQUksR0FBRztRQUMxQixPQUFPO0lBQ1Q7SUFFQSxPQUFPO1FBQ0xDLFFBQVE7WUFDTkMsSUFBSU4sNkVBQWdCQSxDQUFDRyxJQUFJQyxJQUFJLEVBQUU7UUFDakM7SUFDRjtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9jb2xsZWN0aW9ucy9QYWdlcy9hY2Nlc3Mvc3VwZXJBZG1pbk9yVGVuYW50QWRtaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VXNlclRlbmFudElEcyB9IGZyb20gJ0AvdXRpbGl0aWVzL2dldFVzZXJUZW5hbnRJRHMnXG5pbXBvcnQgeyBpc1N1cGVyQWRtaW4gfSBmcm9tICcuLi8uLi8uLi9hY2Nlc3MvaXNTdXBlckFkbWluJ1xuaW1wb3J0IHsgQWNjZXNzIH0gZnJvbSAncGF5bG9hZCdcblxuLyoqXG4gKiBUZW5hbnQgYWRtaW5zIGFuZCBzdXBlciBhZG1pbnMgY2FuIHdpbGwgYmUgYWxsb3dlZCBhY2Nlc3NcbiAqL1xuZXhwb3J0IGNvbnN0IHN1cGVyQWRtaW5PclRlbmFudEFkbWluQWNjZXNzOiBBY2Nlc3MgPSAoeyByZXEgfSkgPT4ge1xuICBpZiAoIXJlcS51c2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoaXNTdXBlckFkbWluKHJlcS51c2VyKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRlbmFudDoge1xuICAgICAgaW46IGdldFVzZXJUZW5hbnRJRHMocmVxLnVzZXIsICd0ZW5hbnQtYWRtaW4nKSxcbiAgICB9LFxuICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0VXNlclRlbmFudElEcyIsImlzU3VwZXJBZG1pbiIsInN1cGVyQWRtaW5PclRlbmFudEFkbWluQWNjZXNzIiwicmVxIiwidXNlciIsInRlbmFudCIsImluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Pages/access/superAdminOrTenantAdmin.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Pages/hooks/ensureUniqueSlug.ts":
/*!*********************************************************!*\
  !*** ./src/collections/Pages/hooks/ensureUniqueSlug.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureUniqueSlug: () => (/* binding */ ensureUniqueSlug)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/errors/ValidationError.js\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _utilities_extractID__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utilities/extractID */ \"(rsc)/./src/utilities/extractID.ts\");\n\n\n\nconst ensureUniqueSlug = async ({ data, originalDoc, req, value })=>{\n    // if value is unchanged, skip validation\n    if (originalDoc.slug === value) {\n        return value;\n    }\n    const constraints = [\n        {\n            slug: {\n                equals: value\n            }\n        }\n    ];\n    const incomingTenantID = (0,_utilities_extractID__WEBPACK_IMPORTED_MODULE_1__.extractID)(data?.tenant);\n    const currentTenantID = (0,_utilities_extractID__WEBPACK_IMPORTED_MODULE_1__.extractID)(originalDoc?.tenant);\n    const tenantIDToMatch = incomingTenantID || currentTenantID;\n    if (tenantIDToMatch) {\n        constraints.push({\n            tenant: {\n                equals: tenantIDToMatch\n            }\n        });\n    }\n    const findDuplicatePages = await req.payload.find({\n        collection: 'pages',\n        where: {\n            and: constraints\n        }\n    });\n    if (findDuplicatePages.docs.length > 0 && req.user) {\n        const tenantIDs = (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__.getUserTenantIDs)(req.user);\n        // if the user is an admin or has access to more than 1 tenant\n        // provide a more specific error message\n        if (req.user.roles?.includes('super-admin') || tenantIDs.length > 1) {\n            const attemptedTenantChange = await req.payload.findByID({\n                id: tenantIDToMatch,\n                collection: 'organizations'\n            });\n            throw new payload__WEBPACK_IMPORTED_MODULE_2__.ValidationError({\n                errors: [\n                    {\n                        message: `The \"${attemptedTenantChange.name}\" tenant already has a page with the slug \"${value}\". Slugs must be unique per tenant.`,\n                        path: 'slug'\n                    }\n                ]\n            });\n        }\n        throw new payload__WEBPACK_IMPORTED_MODULE_2__.ValidationError({\n            errors: [\n                {\n                    message: `A page with the slug ${value} already exists. Slug must be unique per tenant.`,\n                    path: 'slug'\n                }\n            ]\n        });\n    }\n    return value;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvUGFnZXMvaG9va3MvZW5zdXJlVW5pcXVlU2x1Zy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRXlDO0FBRTZCO0FBQ3JCO0FBRTFDLE1BQU1HLG1CQUE4QixPQUFPLEVBQUVDLElBQUksRUFBRUMsV0FBVyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRTtJQUNqRix5Q0FBeUM7SUFDekMsSUFBSUYsWUFBWUcsSUFBSSxLQUFLRCxPQUFPO1FBQzlCLE9BQU9BO0lBQ1Q7SUFFQSxNQUFNRSxjQUF1QjtRQUMzQjtZQUNFRCxNQUFNO2dCQUNKRSxRQUFRSDtZQUNWO1FBQ0Y7S0FDRDtJQUVELE1BQU1JLG1CQUFtQlQsK0RBQVNBLENBQUNFLE1BQU1RO0lBQ3pDLE1BQU1DLGtCQUFrQlgsK0RBQVNBLENBQUNHLGFBQWFPO0lBQy9DLE1BQU1FLGtCQUFrQkgsb0JBQW9CRTtJQUU1QyxJQUFJQyxpQkFBaUI7UUFDbkJMLFlBQVlNLElBQUksQ0FBQztZQUNmSCxRQUFRO2dCQUNORixRQUFRSTtZQUNWO1FBQ0Y7SUFDRjtJQUVBLE1BQU1FLHFCQUFxQixNQUFNVixJQUFJVyxPQUFPLENBQUNDLElBQUksQ0FBQztRQUNoREMsWUFBWTtRQUNaQyxPQUFPO1lBQ0xDLEtBQUtaO1FBQ1A7SUFDRjtJQUVBLElBQUlPLG1CQUFtQk0sSUFBSSxDQUFDQyxNQUFNLEdBQUcsS0FBS2pCLElBQUlrQixJQUFJLEVBQUU7UUFDbEQsTUFBTUMsWUFBWXhCLDZFQUFnQkEsQ0FBQ0ssSUFBSWtCLElBQUk7UUFDM0MsOERBQThEO1FBQzlELHdDQUF3QztRQUN4QyxJQUFJbEIsSUFBSWtCLElBQUksQ0FBQ0UsS0FBSyxFQUFFQyxTQUFTLGtCQUFrQkYsVUFBVUYsTUFBTSxHQUFHLEdBQUc7WUFDbkUsTUFBTUssd0JBQXdCLE1BQU10QixJQUFJVyxPQUFPLENBQUNZLFFBQVEsQ0FBQztnQkFDdkRDLElBQUloQjtnQkFDSkssWUFBWTtZQUNkO1lBRUEsTUFBTSxJQUFJbkIsb0RBQWVBLENBQUM7Z0JBQ3hCK0IsUUFBUTtvQkFDTjt3QkFDRUMsU0FBUyxDQUFDLEtBQUssRUFBRUosc0JBQXNCSyxJQUFJLENBQUMsMkNBQTJDLEVBQUUxQixNQUFNLG1DQUFtQyxDQUFDO3dCQUNuSTJCLE1BQU07b0JBQ1I7aUJBQ0Q7WUFDSDtRQUNGO1FBRUEsTUFBTSxJQUFJbEMsb0RBQWVBLENBQUM7WUFDeEIrQixRQUFRO2dCQUNOO29CQUNFQyxTQUFTLENBQUMscUJBQXFCLEVBQUV6QixNQUFNLGdEQUFnRCxDQUFDO29CQUN4RjJCLE1BQU07Z0JBQ1I7YUFDRDtRQUNIO0lBQ0Y7SUFFQSxPQUFPM0I7QUFDVCxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvUGFnZXMvaG9va3MvZW5zdXJlVW5pcXVlU2x1Zy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZpZWxkSG9vaywgV2hlcmUgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgeyBnZXRVc2VyVGVuYW50SURzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL2dldFVzZXJUZW5hbnRJRHMnXG5pbXBvcnQgeyBleHRyYWN0SUQgfSBmcm9tICdAL3V0aWxpdGllcy9leHRyYWN0SUQnXG5cbmV4cG9ydCBjb25zdCBlbnN1cmVVbmlxdWVTbHVnOiBGaWVsZEhvb2sgPSBhc3luYyAoeyBkYXRhLCBvcmlnaW5hbERvYywgcmVxLCB2YWx1ZSB9KSA9PiB7XG4gIC8vIGlmIHZhbHVlIGlzIHVuY2hhbmdlZCwgc2tpcCB2YWxpZGF0aW9uXG4gIGlmIChvcmlnaW5hbERvYy5zbHVnID09PSB2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICB9XG5cbiAgY29uc3QgY29uc3RyYWludHM6IFdoZXJlW10gPSBbXG4gICAge1xuICAgICAgc2x1Zzoge1xuICAgICAgICBlcXVhbHM6IHZhbHVlLFxuICAgICAgfSxcbiAgICB9LFxuICBdXG5cbiAgY29uc3QgaW5jb21pbmdUZW5hbnRJRCA9IGV4dHJhY3RJRChkYXRhPy50ZW5hbnQpXG4gIGNvbnN0IGN1cnJlbnRUZW5hbnRJRCA9IGV4dHJhY3RJRChvcmlnaW5hbERvYz8udGVuYW50KVxuICBjb25zdCB0ZW5hbnRJRFRvTWF0Y2ggPSBpbmNvbWluZ1RlbmFudElEIHx8IGN1cnJlbnRUZW5hbnRJRFxuXG4gIGlmICh0ZW5hbnRJRFRvTWF0Y2gpIHtcbiAgICBjb25zdHJhaW50cy5wdXNoKHtcbiAgICAgIHRlbmFudDoge1xuICAgICAgICBlcXVhbHM6IHRlbmFudElEVG9NYXRjaCxcbiAgICAgIH0sXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGZpbmREdXBsaWNhdGVQYWdlcyA9IGF3YWl0IHJlcS5wYXlsb2FkLmZpbmQoe1xuICAgIGNvbGxlY3Rpb246ICdwYWdlcycsXG4gICAgd2hlcmU6IHtcbiAgICAgIGFuZDogY29uc3RyYWludHMsXG4gICAgfSxcbiAgfSlcblxuICBpZiAoZmluZER1cGxpY2F0ZVBhZ2VzLmRvY3MubGVuZ3RoID4gMCAmJiByZXEudXNlcikge1xuICAgIGNvbnN0IHRlbmFudElEcyA9IGdldFVzZXJUZW5hbnRJRHMocmVxLnVzZXIpXG4gICAgLy8gaWYgdGhlIHVzZXIgaXMgYW4gYWRtaW4gb3IgaGFzIGFjY2VzcyB0byBtb3JlIHRoYW4gMSB0ZW5hbnRcbiAgICAvLyBwcm92aWRlIGEgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlXG4gICAgaWYgKHJlcS51c2VyLnJvbGVzPy5pbmNsdWRlcygnc3VwZXItYWRtaW4nKSB8fCB0ZW5hbnRJRHMubGVuZ3RoID4gMSkge1xuICAgICAgY29uc3QgYXR0ZW1wdGVkVGVuYW50Q2hhbmdlID0gYXdhaXQgcmVxLnBheWxvYWQuZmluZEJ5SUQoe1xuICAgICAgICBpZDogdGVuYW50SURUb01hdGNoLFxuICAgICAgICBjb2xsZWN0aW9uOiAnb3JnYW5pemF0aW9ucycsXG4gICAgICB9KVxuXG4gICAgICB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZTogYFRoZSBcIiR7YXR0ZW1wdGVkVGVuYW50Q2hhbmdlLm5hbWV9XCIgdGVuYW50IGFscmVhZHkgaGFzIGEgcGFnZSB3aXRoIHRoZSBzbHVnIFwiJHt2YWx1ZX1cIi4gU2x1Z3MgbXVzdCBiZSB1bmlxdWUgcGVyIHRlbmFudC5gLFxuICAgICAgICAgICAgcGF0aDogJ3NsdWcnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgZXJyb3JzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBtZXNzYWdlOiBgQSBwYWdlIHdpdGggdGhlIHNsdWcgJHt2YWx1ZX0gYWxyZWFkeSBleGlzdHMuIFNsdWcgbXVzdCBiZSB1bmlxdWUgcGVyIHRlbmFudC5gLFxuICAgICAgICAgIHBhdGg6ICdzbHVnJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiB2YWx1ZVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsImdldFVzZXJUZW5hbnRJRHMiLCJleHRyYWN0SUQiLCJlbnN1cmVVbmlxdWVTbHVnIiwiZGF0YSIsIm9yaWdpbmFsRG9jIiwicmVxIiwidmFsdWUiLCJzbHVnIiwiY29uc3RyYWludHMiLCJlcXVhbHMiLCJpbmNvbWluZ1RlbmFudElEIiwidGVuYW50IiwiY3VycmVudFRlbmFudElEIiwidGVuYW50SURUb01hdGNoIiwicHVzaCIsImZpbmREdXBsaWNhdGVQYWdlcyIsInBheWxvYWQiLCJmaW5kIiwiY29sbGVjdGlvbiIsIndoZXJlIiwiYW5kIiwiZG9jcyIsImxlbmd0aCIsInVzZXIiLCJ0ZW5hbnRJRHMiLCJyb2xlcyIsImluY2x1ZGVzIiwiYXR0ZW1wdGVkVGVuYW50Q2hhbmdlIiwiZmluZEJ5SUQiLCJpZCIsImVycm9ycyIsIm1lc3NhZ2UiLCJuYW1lIiwicGF0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Pages/hooks/ensureUniqueSlug.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Pages/index.ts":
/*!****************************************!*\
  !*** ./src/collections/Pages/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pages: () => (/* binding */ Pages)\n/* harmony export */ });\n/* harmony import */ var _hooks_ensureUniqueSlug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hooks/ensureUniqueSlug */ \"(rsc)/./src/collections/Pages/hooks/ensureUniqueSlug.ts\");\n/* harmony import */ var _collections_Pages_access_superAdminOrTenantAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/collections/Pages/access/superAdminOrTenantAdmin */ \"(rsc)/./src/collections/Pages/access/superAdminOrTenantAdmin.ts\");\n\n\nconst Pages = {\n    slug: 'pages',\n    access: {\n        create: _collections_Pages_access_superAdminOrTenantAdmin__WEBPACK_IMPORTED_MODULE_1__.superAdminOrTenantAdminAccess,\n        delete: _collections_Pages_access_superAdminOrTenantAdmin__WEBPACK_IMPORTED_MODULE_1__.superAdminOrTenantAdminAccess,\n        read: ()=>true,\n        update: _collections_Pages_access_superAdminOrTenantAdmin__WEBPACK_IMPORTED_MODULE_1__.superAdminOrTenantAdminAccess\n    },\n    admin: {\n        useAsTitle: 'title'\n    },\n    fields: [\n        {\n            name: 'title',\n            type: 'text'\n        },\n        {\n            name: 'slug',\n            type: 'text',\n            defaultValue: 'home',\n            hooks: {\n                beforeValidate: [\n                    _hooks_ensureUniqueSlug__WEBPACK_IMPORTED_MODULE_0__.ensureUniqueSlug\n                ]\n            },\n            index: true\n        }\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvUGFnZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTJEO0FBQ3VDO0FBRTNGLE1BQU1FLFFBQTBCO0lBQ3JDQyxNQUFNO0lBQ05DLFFBQVE7UUFDTkMsUUFBUUosNEdBQTZCQTtRQUNyQ0ssUUFBUUwsNEdBQTZCQTtRQUNyQ00sTUFBTSxJQUFNO1FBQ1pDLFFBQVFQLDRHQUE2QkE7SUFDdkM7SUFDQVEsT0FBTztRQUNMQyxZQUFZO0lBQ2Q7SUFDQUMsUUFBUTtRQUNOO1lBQ0VDLE1BQU07WUFDTkMsTUFBTTtRQUNSO1FBQ0E7WUFDRUQsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLGNBQWM7WUFDZEMsT0FBTztnQkFDTEMsZ0JBQWdCO29CQUFDaEIscUVBQWdCQTtpQkFBQztZQUNwQztZQUNBaUIsT0FBTztRQUNUO0tBQ0Q7QUFDSCxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvUGFnZXMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcblxuaW1wb3J0IHsgZW5zdXJlVW5pcXVlU2x1ZyB9IGZyb20gJy4vaG9va3MvZW5zdXJlVW5pcXVlU2x1ZydcbmltcG9ydCB7IHN1cGVyQWRtaW5PclRlbmFudEFkbWluQWNjZXNzIH0gZnJvbSAnQC9jb2xsZWN0aW9ucy9QYWdlcy9hY2Nlc3Mvc3VwZXJBZG1pbk9yVGVuYW50QWRtaW4nXG5cbmV4cG9ydCBjb25zdCBQYWdlczogQ29sbGVjdGlvbkNvbmZpZyA9IHtcbiAgc2x1ZzogJ3BhZ2VzJyxcbiAgYWNjZXNzOiB7XG4gICAgY3JlYXRlOiBzdXBlckFkbWluT3JUZW5hbnRBZG1pbkFjY2VzcyxcbiAgICBkZWxldGU6IHN1cGVyQWRtaW5PclRlbmFudEFkbWluQWNjZXNzLFxuICAgIHJlYWQ6ICgpID0+IHRydWUsXG4gICAgdXBkYXRlOiBzdXBlckFkbWluT3JUZW5hbnRBZG1pbkFjY2VzcyxcbiAgfSxcbiAgYWRtaW46IHtcbiAgICB1c2VBc1RpdGxlOiAndGl0bGUnLFxuICB9LFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBuYW1lOiAndGl0bGUnLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3NsdWcnLFxuICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgZGVmYXVsdFZhbHVlOiAnaG9tZScsXG4gICAgICBob29rczoge1xuICAgICAgICBiZWZvcmVWYWxpZGF0ZTogW2Vuc3VyZVVuaXF1ZVNsdWddLFxuICAgICAgfSxcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgIH0sXG4gIF0sXG59XG4iXSwibmFtZXMiOlsiZW5zdXJlVW5pcXVlU2x1ZyIsInN1cGVyQWRtaW5PclRlbmFudEFkbWluQWNjZXNzIiwiUGFnZXMiLCJzbHVnIiwiYWNjZXNzIiwiY3JlYXRlIiwiZGVsZXRlIiwicmVhZCIsInVwZGF0ZSIsImFkbWluIiwidXNlQXNUaXRsZSIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwiZGVmYXVsdFZhbHVlIiwiaG9va3MiLCJiZWZvcmVWYWxpZGF0ZSIsImluZGV4Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Pages/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/access/create.ts":
/*!************************************************!*\
  !*** ./src/collections/Users/access/create.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAccess: () => (/* binding */ createAccess)\n/* harmony export */ });\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n\n\nconst createAccess = ({ req })=>{\n    if (!req.user) {\n        return false;\n    }\n    if ((0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_0__.isSuperAdmin)(req.user)) {\n        return true;\n    }\n    const adminTenantAccessIDs = (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_1__.getUserTenantIDs)(req.user, 'tenant-admin');\n    if (adminTenantAccessIDs.length) {\n        return true;\n    }\n    return false;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL2NyZWF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFJMkQ7QUFDVztBQUUvRCxNQUFNRSxlQUE2QixDQUFDLEVBQUVDLEdBQUcsRUFBRTtJQUNoRCxJQUFJLENBQUNBLElBQUlDLElBQUksRUFBRTtRQUNiLE9BQU87SUFDVDtJQUVBLElBQUlKLGtFQUFZQSxDQUFDRyxJQUFJQyxJQUFJLEdBQUc7UUFDMUIsT0FBTztJQUNUO0lBRUEsTUFBTUMsdUJBQXVCSiw2RUFBZ0JBLENBQUNFLElBQUlDLElBQUksRUFBRTtJQUV4RCxJQUFJQyxxQkFBcUJDLE1BQU0sRUFBRTtRQUMvQixPQUFPO0lBQ1Q7SUFFQSxPQUFPO0FBQ1QsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvc3JjL2NvbGxlY3Rpb25zL1VzZXJzL2FjY2Vzcy9jcmVhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBY2Nlc3MgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICcuLi8uLi8uLi9wYXlsb2FkLXR5cGVzJ1xuXG5pbXBvcnQgeyBpc1N1cGVyQWRtaW4gfSBmcm9tICcuLi8uLi8uLi9hY2Nlc3MvaXNTdXBlckFkbWluJ1xuaW1wb3J0IHsgZ2V0VXNlclRlbmFudElEcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9nZXRVc2VyVGVuYW50SURzJ1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQWNjZXNzOiBBY2Nlc3M8VXNlcj4gPSAoeyByZXEgfSkgPT4ge1xuICBpZiAoIXJlcS51c2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoaXNTdXBlckFkbWluKHJlcS51c2VyKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb25zdCBhZG1pblRlbmFudEFjY2Vzc0lEcyA9IGdldFVzZXJUZW5hbnRJRHMocmVxLnVzZXIsICd0ZW5hbnQtYWRtaW4nKVxuXG4gIGlmIChhZG1pblRlbmFudEFjY2Vzc0lEcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iXSwibmFtZXMiOlsiaXNTdXBlckFkbWluIiwiZ2V0VXNlclRlbmFudElEcyIsImNyZWF0ZUFjY2VzcyIsInJlcSIsInVzZXIiLCJhZG1pblRlbmFudEFjY2Vzc0lEcyIsImxlbmd0aCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/access/create.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/access/isAccessingSelf.ts":
/*!*********************************************************!*\
  !*** ./src/collections/Users/access/isAccessingSelf.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAccessingSelf: () => (/* binding */ isAccessingSelf)\n/* harmony export */ });\nconst isAccessingSelf = ({ id, user })=>{\n    return user ? Boolean(user.id === id) : false;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL2lzQWNjZXNzaW5nU2VsZi50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRU8sTUFBTUEsa0JBQWtCLENBQUMsRUFBRUMsRUFBRSxFQUFFQyxJQUFJLEVBQXlDO0lBQ2pGLE9BQU9BLE9BQU9DLFFBQVFELEtBQUtELEVBQUUsS0FBS0EsTUFBTTtBQUMxQyxFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL2lzQWNjZXNzaW5nU2VsZi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyIH0gZnJvbSAnQC9wYXlsb2FkLXR5cGVzJ1xuXG5leHBvcnQgY29uc3QgaXNBY2Nlc3NpbmdTZWxmID0gKHsgaWQsIHVzZXIgfTogeyB1c2VyPzogVXNlcjsgaWQ/OiBzdHJpbmcgfCBudW1iZXIgfSk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gdXNlciA/IEJvb2xlYW4odXNlci5pZCA9PT0gaWQpIDogZmFsc2Vcbn1cbiJdLCJuYW1lcyI6WyJpc0FjY2Vzc2luZ1NlbGYiLCJpZCIsInVzZXIiLCJCb29sZWFuIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/access/isAccessingSelf.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/access/read.ts":
/*!**********************************************!*\
  !*** ./src/collections/Users/access/read.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readAccess: () => (/* binding */ readAccess)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_plugin_multi_tenant_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/plugin-multi-tenant/utilities */ \"(rsc)/./node_modules/@payloadcms/plugin-multi-tenant/dist/exports/utilities.js\");\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _isAccessingSelf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./isAccessingSelf */ \"(rsc)/./src/collections/Users/access/isAccessingSelf.ts\");\n/* harmony import */ var _utilities_getCollectionIDType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utilities/getCollectionIDType */ \"(rsc)/./src/utilities/getCollectionIDType.ts\");\n\n\n\n\n\nconst readAccess = ({ req, id })=>{\n    if (!req?.user) {\n        return false;\n    }\n    if ((0,_isAccessingSelf__WEBPACK_IMPORTED_MODULE_3__.isAccessingSelf)({\n        id,\n        user: req.user\n    })) {\n        return true;\n    }\n    const superAdmin = (0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__.isSuperAdmin)(req.user);\n    const selectedTenant = (0,_payloadcms_plugin_multi_tenant_utilities__WEBPACK_IMPORTED_MODULE_0__.getTenantFromCookie)(req.headers, (0,_utilities_getCollectionIDType__WEBPACK_IMPORTED_MODULE_4__.getCollectionIDType)({\n        payload: req.payload,\n        collectionSlug: 'organizations'\n    }));\n    const adminTenantAccessIDs = (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_2__.getUserTenantIDs)(req.user, 'tenant-admin');\n    if (selectedTenant) {\n        // If it's a super admin, or they have access to the tenant ID set in cookie\n        const hasTenantAccess = adminTenantAccessIDs.some((id)=>id === selectedTenant);\n        if (superAdmin || hasTenantAccess) {\n            return {\n                'tenants.tenant': {\n                    equals: selectedTenant\n                }\n            };\n        }\n    }\n    if (superAdmin) {\n        return true;\n    }\n    return {\n        or: [\n            {\n                id: {\n                    equals: req.user.id\n                }\n            },\n            {\n                'tenants.tenant': {\n                    in: adminTenantAccessIDs\n                }\n            }\n        ]\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL3JlYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRStFO0FBRXBCO0FBQ1c7QUFDbkI7QUFDa0I7QUFFOUQsTUFBTUssYUFBMkIsQ0FBQyxFQUFFQyxHQUFHLEVBQUVDLEVBQUUsRUFBRTtJQUNsRCxJQUFJLENBQUNELEtBQUtFLE1BQU07UUFDZCxPQUFPO0lBQ1Q7SUFFQSxJQUFJTCxpRUFBZUEsQ0FBQztRQUFFSTtRQUFJQyxNQUFNRixJQUFJRSxJQUFJO0lBQUMsSUFBSTtRQUMzQyxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxhQUFhUixrRUFBWUEsQ0FBQ0ssSUFBSUUsSUFBSTtJQUN4QyxNQUFNRSxpQkFBaUJWLDhGQUFtQkEsQ0FDeENNLElBQUlLLE9BQU8sRUFDWFAsbUZBQW1CQSxDQUFDO1FBQUVRLFNBQVNOLElBQUlNLE9BQU87UUFBRUMsZ0JBQWdCO0lBQWdCO0lBRTlFLE1BQU1DLHVCQUF1QlosNkVBQWdCQSxDQUFDSSxJQUFJRSxJQUFJLEVBQUU7SUFFeEQsSUFBSUUsZ0JBQWdCO1FBQ2xCLDRFQUE0RTtRQUM1RSxNQUFNSyxrQkFBa0JELHFCQUFxQkUsSUFBSSxDQUFDLENBQUNULEtBQU9BLE9BQU9HO1FBQ2pFLElBQUlELGNBQWNNLGlCQUFpQjtZQUNqQyxPQUFPO2dCQUNMLGtCQUFrQjtvQkFDaEJFLFFBQVFQO2dCQUNWO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsSUFBSUQsWUFBWTtRQUNkLE9BQU87SUFDVDtJQUVBLE9BQU87UUFDTFMsSUFBSTtZQUNGO2dCQUNFWCxJQUFJO29CQUNGVSxRQUFRWCxJQUFJRSxJQUFJLENBQUNELEVBQUU7Z0JBQ3JCO1lBQ0Y7WUFDQTtnQkFDRSxrQkFBa0I7b0JBQ2hCWSxJQUFJTDtnQkFDTjtZQUNGO1NBQ0Q7SUFDSDtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9jb2xsZWN0aW9ucy9Vc2Vycy9hY2Nlc3MvcmVhZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICdAL3BheWxvYWQtdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEFjY2VzcywgV2hlcmUgfSBmcm9tICdwYXlsb2FkJ1xuaW1wb3J0IHsgZ2V0VGVuYW50RnJvbUNvb2tpZSB9IGZyb20gJ0BwYXlsb2FkY21zL3BsdWdpbi1tdWx0aS10ZW5hbnQvdXRpbGl0aWVzJ1xuXG5pbXBvcnQgeyBpc1N1cGVyQWRtaW4gfSBmcm9tICcuLi8uLi8uLi9hY2Nlc3MvaXNTdXBlckFkbWluJ1xuaW1wb3J0IHsgZ2V0VXNlclRlbmFudElEcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxpdGllcy9nZXRVc2VyVGVuYW50SURzJ1xuaW1wb3J0IHsgaXNBY2Nlc3NpbmdTZWxmIH0gZnJvbSAnLi9pc0FjY2Vzc2luZ1NlbGYnXG5pbXBvcnQgeyBnZXRDb2xsZWN0aW9uSURUeXBlIH0gZnJvbSAnQC91dGlsaXRpZXMvZ2V0Q29sbGVjdGlvbklEVHlwZSdcblxuZXhwb3J0IGNvbnN0IHJlYWRBY2Nlc3M6IEFjY2VzczxVc2VyPiA9ICh7IHJlcSwgaWQgfSkgPT4ge1xuICBpZiAoIXJlcT8udXNlcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWYgKGlzQWNjZXNzaW5nU2VsZih7IGlkLCB1c2VyOiByZXEudXNlciB9KSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBjb25zdCBzdXBlckFkbWluID0gaXNTdXBlckFkbWluKHJlcS51c2VyKVxuICBjb25zdCBzZWxlY3RlZFRlbmFudCA9IGdldFRlbmFudEZyb21Db29raWUoXG4gICAgcmVxLmhlYWRlcnMsXG4gICAgZ2V0Q29sbGVjdGlvbklEVHlwZSh7IHBheWxvYWQ6IHJlcS5wYXlsb2FkLCBjb2xsZWN0aW9uU2x1ZzogJ29yZ2FuaXphdGlvbnMnIH0pLFxuICApXG4gIGNvbnN0IGFkbWluVGVuYW50QWNjZXNzSURzID0gZ2V0VXNlclRlbmFudElEcyhyZXEudXNlciwgJ3RlbmFudC1hZG1pbicpXG5cbiAgaWYgKHNlbGVjdGVkVGVuYW50KSB7XG4gICAgLy8gSWYgaXQncyBhIHN1cGVyIGFkbWluLCBvciB0aGV5IGhhdmUgYWNjZXNzIHRvIHRoZSB0ZW5hbnQgSUQgc2V0IGluIGNvb2tpZVxuICAgIGNvbnN0IGhhc1RlbmFudEFjY2VzcyA9IGFkbWluVGVuYW50QWNjZXNzSURzLnNvbWUoKGlkKSA9PiBpZCA9PT0gc2VsZWN0ZWRUZW5hbnQpXG4gICAgaWYgKHN1cGVyQWRtaW4gfHwgaGFzVGVuYW50QWNjZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAndGVuYW50cy50ZW5hbnQnOiB7XG4gICAgICAgICAgZXF1YWxzOiBzZWxlY3RlZFRlbmFudCxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwZXJBZG1pbikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICByZXR1cm4ge1xuICAgIG9yOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZXF1YWxzOiByZXEudXNlci5pZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgICd0ZW5hbnRzLnRlbmFudCc6IHtcbiAgICAgICAgICBpbjogYWRtaW5UZW5hbnRBY2Nlc3NJRHMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIF0sXG4gIH0gYXMgV2hlcmVcbn1cbiJdLCJuYW1lcyI6WyJnZXRUZW5hbnRGcm9tQ29va2llIiwiaXNTdXBlckFkbWluIiwiZ2V0VXNlclRlbmFudElEcyIsImlzQWNjZXNzaW5nU2VsZiIsImdldENvbGxlY3Rpb25JRFR5cGUiLCJyZWFkQWNjZXNzIiwicmVxIiwiaWQiLCJ1c2VyIiwic3VwZXJBZG1pbiIsInNlbGVjdGVkVGVuYW50IiwiaGVhZGVycyIsInBheWxvYWQiLCJjb2xsZWN0aW9uU2x1ZyIsImFkbWluVGVuYW50QWNjZXNzSURzIiwiaGFzVGVuYW50QWNjZXNzIiwic29tZSIsImVxdWFscyIsIm9yIiwiaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/access/read.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/access/updateAndDelete.ts":
/*!*********************************************************!*\
  !*** ./src/collections/Users/access/updateAndDelete.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateAndDeleteAccess: () => (/* binding */ updateAndDeleteAccess)\n/* harmony export */ });\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _isAccessingSelf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./isAccessingSelf */ \"(rsc)/./src/collections/Users/access/isAccessingSelf.ts\");\n\n\n\nconst updateAndDeleteAccess = ({ req, id })=>{\n    const { user } = req;\n    if (!user) {\n        return false;\n    }\n    if ((0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_1__.isSuperAdmin)(user) || (0,_isAccessingSelf__WEBPACK_IMPORTED_MODULE_2__.isAccessingSelf)({\n        user,\n        id\n    })) {\n        return true;\n    }\n    /**\n   * Constrains update and delete access to users that belong\n   * to the same tenant as the tenant-admin making the request\n   *\n   * You may want to take this a step further with a beforeChange\n   * hook to ensure that the a tenant-admin can only remove users\n   * from their own tenant in the tenants array.\n   */ return {\n        'tenants.tenant': {\n            in: (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__.getUserTenantIDs)(user, 'tenant-admin')\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL3VwZGF0ZUFuZERlbGV0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRXNFO0FBQ2xCO0FBQ0Q7QUFFNUMsTUFBTUcsd0JBQWdDLENBQUMsRUFBRUMsR0FBRyxFQUFFQyxFQUFFLEVBQUU7SUFDdkQsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR0Y7SUFFakIsSUFBSSxDQUFDRSxNQUFNO1FBQ1QsT0FBTztJQUNUO0lBRUEsSUFBSUwsa0VBQVlBLENBQUNLLFNBQVNKLGlFQUFlQSxDQUFDO1FBQUVJO1FBQU1EO0lBQUcsSUFBSTtRQUN2RCxPQUFPO0lBQ1Q7SUFFQTs7Ozs7OztHQU9DLEdBQ0QsT0FBTztRQUNMLGtCQUFrQjtZQUNoQkUsSUFBSVAsNkVBQWdCQSxDQUFDTSxNQUFNO1FBQzdCO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvVXNlcnMvYWNjZXNzL3VwZGF0ZUFuZERlbGV0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFjY2VzcyB9IGZyb20gJ3BheWxvYWQnXG5cbmltcG9ydCB7IGdldFVzZXJUZW5hbnRJRHMgfSBmcm9tICcuLi8uLi8uLi91dGlsaXRpZXMvZ2V0VXNlclRlbmFudElEcydcbmltcG9ydCB7IGlzU3VwZXJBZG1pbiB9IGZyb20gJ0AvYWNjZXNzL2lzU3VwZXJBZG1pbidcbmltcG9ydCB7IGlzQWNjZXNzaW5nU2VsZiB9IGZyb20gJy4vaXNBY2Nlc3NpbmdTZWxmJ1xuXG5leHBvcnQgY29uc3QgdXBkYXRlQW5kRGVsZXRlQWNjZXNzOiBBY2Nlc3MgPSAoeyByZXEsIGlkIH0pID0+IHtcbiAgY29uc3QgeyB1c2VyIH0gPSByZXFcblxuICBpZiAoIXVzZXIpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGlmIChpc1N1cGVyQWRtaW4odXNlcikgfHwgaXNBY2Nlc3NpbmdTZWxmKHsgdXNlciwgaWQgfSkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cmFpbnMgdXBkYXRlIGFuZCBkZWxldGUgYWNjZXNzIHRvIHVzZXJzIHRoYXQgYmVsb25nXG4gICAqIHRvIHRoZSBzYW1lIHRlbmFudCBhcyB0aGUgdGVuYW50LWFkbWluIG1ha2luZyB0aGUgcmVxdWVzdFxuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gdGFrZSB0aGlzIGEgc3RlcCBmdXJ0aGVyIHdpdGggYSBiZWZvcmVDaGFuZ2VcbiAgICogaG9vayB0byBlbnN1cmUgdGhhdCB0aGUgYSB0ZW5hbnQtYWRtaW4gY2FuIG9ubHkgcmVtb3ZlIHVzZXJzXG4gICAqIGZyb20gdGhlaXIgb3duIHRlbmFudCBpbiB0aGUgdGVuYW50cyBhcnJheS5cbiAgICovXG4gIHJldHVybiB7XG4gICAgJ3RlbmFudHMudGVuYW50Jzoge1xuICAgICAgaW46IGdldFVzZXJUZW5hbnRJRHModXNlciwgJ3RlbmFudC1hZG1pbicpLFxuICAgIH0sXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRVc2VyVGVuYW50SURzIiwiaXNTdXBlckFkbWluIiwiaXNBY2Nlc3NpbmdTZWxmIiwidXBkYXRlQW5kRGVsZXRlQWNjZXNzIiwicmVxIiwiaWQiLCJ1c2VyIiwiaW4iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/access/updateAndDelete.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/endpoints/externalUsersLogin.ts":
/*!***************************************************************!*\
  !*** ./src/collections/Users/endpoints/externalUsersLogin.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   externalUsersLogin: () => (/* binding */ externalUsersLogin)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_next_utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/next/utilities */ \"(rsc)/./node_modules/@payloadcms/next/dist/exports/utilities.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/errors/APIError.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/auth/cookies.js\");\n\n\n// A custom endpoint that can be reached by POST request\n// at: /api/users/external-users/login\nconst externalUsersLogin = {\n    handler: async (req)=>{\n        let data = {};\n        try {\n            if (typeof req.json === 'function') {\n                data = await req.json();\n            }\n        } catch (error) {\n        // swallow error, data is already empty object\n        }\n        const { password, tenantSlug, tenantDomain, username } = data;\n        if (!username || !password) {\n            throw new payload__WEBPACK_IMPORTED_MODULE_1__.APIError('Username and Password are required for login.', 400, null, true);\n        }\n        const fullTenant = (await req.payload.find({\n            collection: 'organizations',\n            where: tenantDomain ? {\n                domain: {\n                    equals: tenantDomain\n                }\n            } : {\n                slug: {\n                    equals: tenantSlug\n                }\n            }\n        })).docs[0];\n        const foundUser = await req.payload.find({\n            collection: 'users',\n            where: {\n                or: [\n                    {\n                        and: [\n                            {\n                                email: {\n                                    equals: username\n                                }\n                            },\n                            {\n                                'organizations.organization': {\n                                    equals: fullTenant.id\n                                }\n                            }\n                        ]\n                    },\n                    {\n                        and: [\n                            {\n                                username: {\n                                    equals: username\n                                }\n                            },\n                            {\n                                'organizations.organization': {\n                                    equals: fullTenant.id\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        });\n        if (foundUser.totalDocs > 0) {\n            try {\n                const loginAttempt = await req.payload.login({\n                    collection: 'users',\n                    data: {\n                        email: foundUser.docs[0].email,\n                        password\n                    },\n                    req\n                });\n                if (loginAttempt?.token) {\n                    const collection = req.payload.collections['users'];\n                    const cookie = (0,payload__WEBPACK_IMPORTED_MODULE_2__.generatePayloadCookie)({\n                        collectionAuthConfig: collection.config.auth,\n                        cookiePrefix: req.payload.config.cookiePrefix,\n                        token: loginAttempt.token\n                    });\n                    return Response.json(loginAttempt, {\n                        headers: (0,_payloadcms_next_utilities__WEBPACK_IMPORTED_MODULE_0__.headersWithCors)({\n                            headers: new Headers({\n                                'Set-Cookie': cookie\n                            }),\n                            req\n                        }),\n                        status: 200\n                    });\n                }\n                throw new payload__WEBPACK_IMPORTED_MODULE_1__.APIError('Unable to login with the provided username and password.', 400, null, true);\n            } catch (e) {\n                throw new payload__WEBPACK_IMPORTED_MODULE_1__.APIError('Unable to login with the provided username and password.', 400, null, true);\n            }\n        }\n        throw new payload__WEBPACK_IMPORTED_MODULE_1__.APIError('Unable to login with the provided username and password.', 400, null, true);\n    },\n    method: 'post',\n    path: '/external-users/login'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvZW5kcG9pbnRzL2V4dGVybmFsVXNlcnNMb2dpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRTREO0FBQ0g7QUFFekQsd0RBQXdEO0FBQ3hELHNDQUFzQztBQUMvQixNQUFNRyxxQkFBK0I7SUFDMUNDLFNBQVMsT0FBT0M7UUFDZCxJQUFJQyxPQUFrQyxDQUFDO1FBRXZDLElBQUk7WUFDRixJQUFJLE9BQU9ELElBQUlFLElBQUksS0FBSyxZQUFZO2dCQUNsQ0QsT0FBTyxNQUFNRCxJQUFJRSxJQUFJO1lBQ3ZCO1FBQ0YsRUFBRSxPQUFPQyxPQUFPO1FBQ2QsOENBQThDO1FBQ2hEO1FBQ0EsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsWUFBWSxFQUFFQyxRQUFRLEVBQUUsR0FBR047UUFFekQsSUFBSSxDQUFDTSxZQUFZLENBQUNILFVBQVU7WUFDMUIsTUFBTSxJQUFJUiw2Q0FBUUEsQ0FBQyxpREFBaUQsS0FBSyxNQUFNO1FBQ2pGO1FBRUEsTUFBTVksYUFBYSxDQUNqQixNQUFNUixJQUFJUyxPQUFPLENBQUNDLElBQUksQ0FBQztZQUNyQkMsWUFBWTtZQUNaQyxPQUFPTixlQUNIO2dCQUNFTyxRQUFRO29CQUNOQyxRQUFRUjtnQkFDVjtZQUNGLElBQ0E7Z0JBQ0VTLE1BQU07b0JBQ0pELFFBQVFUO2dCQUNWO1lBQ0Y7UUFDTixFQUFDLEVBQ0RXLElBQUksQ0FBQyxFQUFFO1FBRVQsTUFBTUMsWUFBWSxNQUFNakIsSUFBSVMsT0FBTyxDQUFDQyxJQUFJLENBQUM7WUFDdkNDLFlBQVk7WUFDWkMsT0FBTztnQkFDTE0sSUFBSTtvQkFDRjt3QkFDRUMsS0FBSzs0QkFDSDtnQ0FDRUMsT0FBTztvQ0FDTE4sUUFBUVA7Z0NBQ1Y7NEJBQ0Y7NEJBQ0E7Z0NBQ0UsOEJBQThCO29DQUM1Qk8sUUFBUU4sV0FBV2EsRUFBRTtnQ0FDdkI7NEJBQ0Y7eUJBQ0Q7b0JBQ0g7b0JBQ0E7d0JBQ0VGLEtBQUs7NEJBQ0g7Z0NBQ0VaLFVBQVU7b0NBQ1JPLFFBQVFQO2dDQUNWOzRCQUNGOzRCQUNBO2dDQUNFLDhCQUE4QjtvQ0FDNUJPLFFBQVFOLFdBQVdhLEVBQUU7Z0NBQ3ZCOzRCQUNGO3lCQUNEO29CQUNIO2lCQUNEO1lBQ0g7UUFDRjtRQUVBLElBQUlKLFVBQVVLLFNBQVMsR0FBRyxHQUFHO1lBQzNCLElBQUk7Z0JBQ0YsTUFBTUMsZUFBZSxNQUFNdkIsSUFBSVMsT0FBTyxDQUFDZSxLQUFLLENBQUM7b0JBQzNDYixZQUFZO29CQUNaVixNQUFNO3dCQUNKbUIsT0FBT0gsVUFBVUQsSUFBSSxDQUFDLEVBQUUsQ0FBQ0ksS0FBSzt3QkFDOUJoQjtvQkFDRjtvQkFDQUo7Z0JBQ0Y7Z0JBRUEsSUFBSXVCLGNBQWNFLE9BQU87b0JBQ3ZCLE1BQU1kLGFBQXlCLElBQUtGLE9BQU8sQ0FBQ2lCLFdBQVcsQ0FDckQsUUFDRDtvQkFDRCxNQUFNQyxTQUFTOUIsOERBQXFCQSxDQUFDO3dCQUNuQytCLHNCQUFzQmpCLFdBQVdrQixNQUFNLENBQUNDLElBQUk7d0JBQzVDQyxjQUFjL0IsSUFBSVMsT0FBTyxDQUFDb0IsTUFBTSxDQUFDRSxZQUFZO3dCQUM3Q04sT0FBT0YsYUFBYUUsS0FBSztvQkFDM0I7b0JBRUEsT0FBT08sU0FBUzlCLElBQUksQ0FBQ3FCLGNBQWM7d0JBQ2pDVSxTQUFTdEMsMkVBQWVBLENBQUM7NEJBQ3ZCc0MsU0FBUyxJQUFJQyxRQUFRO2dDQUNuQixjQUFjUDs0QkFDaEI7NEJBQ0EzQjt3QkFDRjt3QkFDQW1DLFFBQVE7b0JBQ1Y7Z0JBQ0Y7Z0JBRUEsTUFBTSxJQUFJdkMsNkNBQVFBLENBQ2hCLDREQUNBLEtBQ0EsTUFDQTtZQUVKLEVBQUUsT0FBT3dDLEdBQUc7Z0JBQ1YsTUFBTSxJQUFJeEMsNkNBQVFBLENBQ2hCLDREQUNBLEtBQ0EsTUFDQTtZQUVKO1FBQ0Y7UUFFQSxNQUFNLElBQUlBLDZDQUFRQSxDQUFDLDREQUE0RCxLQUFLLE1BQU07SUFDNUY7SUFDQXlDLFFBQVE7SUFDUkMsTUFBTTtBQUNSLEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9jb2xsZWN0aW9ucy9Vc2Vycy9lbmRwb2ludHMvZXh0ZXJuYWxVc2Vyc0xvZ2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbiwgRW5kcG9pbnQgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgeyBoZWFkZXJzV2l0aENvcnMgfSBmcm9tICdAcGF5bG9hZGNtcy9uZXh0L3V0aWxpdGllcydcbmltcG9ydCB7IEFQSUVycm9yLCBnZW5lcmF0ZVBheWxvYWRDb29raWUgfSBmcm9tICdwYXlsb2FkJ1xuXG4vLyBBIGN1c3RvbSBlbmRwb2ludCB0aGF0IGNhbiBiZSByZWFjaGVkIGJ5IFBPU1QgcmVxdWVzdFxuLy8gYXQ6IC9hcGkvdXNlcnMvZXh0ZXJuYWwtdXNlcnMvbG9naW5cbmV4cG9ydCBjb25zdCBleHRlcm5hbFVzZXJzTG9naW46IEVuZHBvaW50ID0ge1xuICBoYW5kbGVyOiBhc3luYyAocmVxKSA9PiB7XG4gICAgbGV0IGRhdGE6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgcmVxLmpzb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IHJlcS5qc29uKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gc3dhbGxvdyBlcnJvciwgZGF0YSBpcyBhbHJlYWR5IGVtcHR5IG9iamVjdFxuICAgIH1cbiAgICBjb25zdCB7IHBhc3N3b3JkLCB0ZW5hbnRTbHVnLCB0ZW5hbnREb21haW4sIHVzZXJuYW1lIH0gPSBkYXRhXG5cbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xuICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKCdVc2VybmFtZSBhbmQgUGFzc3dvcmQgYXJlIHJlcXVpcmVkIGZvciBsb2dpbi4nLCA0MDAsIG51bGwsIHRydWUpXG4gICAgfVxuXG4gICAgY29uc3QgZnVsbFRlbmFudCA9IChcbiAgICAgIGF3YWl0IHJlcS5wYXlsb2FkLmZpbmQoe1xuICAgICAgICBjb2xsZWN0aW9uOiAnb3JnYW5pemF0aW9ucycsXG4gICAgICAgIHdoZXJlOiB0ZW5hbnREb21haW5cbiAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgZG9tYWluOiB7XG4gICAgICAgICAgICAgICAgZXF1YWxzOiB0ZW5hbnREb21haW4sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHNsdWc6IHtcbiAgICAgICAgICAgICAgICBlcXVhbHM6IHRlbmFudFNsdWcsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgfSlcbiAgICApLmRvY3NbMF1cblxuICAgIGNvbnN0IGZvdW5kVXNlciA9IGF3YWl0IHJlcS5wYXlsb2FkLmZpbmQoe1xuICAgICAgY29sbGVjdGlvbjogJ3VzZXJzJyxcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgYW5kOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbWFpbDoge1xuICAgICAgICAgICAgICAgICAgZXF1YWxzOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ29yZ2FuaXphdGlvbnMub3JnYW5pemF0aW9uJzoge1xuICAgICAgICAgICAgICAgICAgZXF1YWxzOiBmdWxsVGVuYW50LmlkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgYW5kOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZToge1xuICAgICAgICAgICAgICAgICAgZXF1YWxzOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ29yZ2FuaXphdGlvbnMub3JnYW5pemF0aW9uJzoge1xuICAgICAgICAgICAgICAgICAgZXF1YWxzOiBmdWxsVGVuYW50LmlkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICBpZiAoZm91bmRVc2VyLnRvdGFsRG9jcyA+IDApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxvZ2luQXR0ZW1wdCA9IGF3YWl0IHJlcS5wYXlsb2FkLmxvZ2luKHtcbiAgICAgICAgICBjb2xsZWN0aW9uOiAndXNlcnMnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGVtYWlsOiBmb3VuZFVzZXIuZG9jc1swXS5lbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxLFxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChsb2dpbkF0dGVtcHQ/LnRva2VuKSB7XG4gICAgICAgICAgY29uc3QgY29sbGVjdGlvbjogQ29sbGVjdGlvbiA9IChyZXEucGF5bG9hZC5jb2xsZWN0aW9ucyBhcyB7IFtrZXk6IHN0cmluZ106IENvbGxlY3Rpb24gfSlbXG4gICAgICAgICAgICAndXNlcnMnXG4gICAgICAgICAgXVxuICAgICAgICAgIGNvbnN0IGNvb2tpZSA9IGdlbmVyYXRlUGF5bG9hZENvb2tpZSh7XG4gICAgICAgICAgICBjb2xsZWN0aW9uQXV0aENvbmZpZzogY29sbGVjdGlvbi5jb25maWcuYXV0aCxcbiAgICAgICAgICAgIGNvb2tpZVByZWZpeDogcmVxLnBheWxvYWQuY29uZmlnLmNvb2tpZVByZWZpeCxcbiAgICAgICAgICAgIHRva2VuOiBsb2dpbkF0dGVtcHQudG9rZW4sXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKGxvZ2luQXR0ZW1wdCwge1xuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1dpdGhDb3JzKHtcbiAgICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe1xuICAgICAgICAgICAgICAgICdTZXQtQ29va2llJzogY29va2llLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKFxuICAgICAgICAgICdVbmFibGUgdG8gbG9naW4gd2l0aCB0aGUgcHJvdmlkZWQgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLicsXG4gICAgICAgICAgNDAwLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgQVBJRXJyb3IoXG4gICAgICAgICAgJ1VuYWJsZSB0byBsb2dpbiB3aXRoIHRoZSBwcm92aWRlZCB1c2VybmFtZSBhbmQgcGFzc3dvcmQuJyxcbiAgICAgICAgICA0MDAsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEFQSUVycm9yKCdVbmFibGUgdG8gbG9naW4gd2l0aCB0aGUgcHJvdmlkZWQgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLicsIDQwMCwgbnVsbCwgdHJ1ZSlcbiAgfSxcbiAgbWV0aG9kOiAncG9zdCcsXG4gIHBhdGg6ICcvZXh0ZXJuYWwtdXNlcnMvbG9naW4nLFxufVxuIl0sIm5hbWVzIjpbImhlYWRlcnNXaXRoQ29ycyIsIkFQSUVycm9yIiwiZ2VuZXJhdGVQYXlsb2FkQ29va2llIiwiZXh0ZXJuYWxVc2Vyc0xvZ2luIiwiaGFuZGxlciIsInJlcSIsImRhdGEiLCJqc29uIiwiZXJyb3IiLCJwYXNzd29yZCIsInRlbmFudFNsdWciLCJ0ZW5hbnREb21haW4iLCJ1c2VybmFtZSIsImZ1bGxUZW5hbnQiLCJwYXlsb2FkIiwiZmluZCIsImNvbGxlY3Rpb24iLCJ3aGVyZSIsImRvbWFpbiIsImVxdWFscyIsInNsdWciLCJkb2NzIiwiZm91bmRVc2VyIiwib3IiLCJhbmQiLCJlbWFpbCIsImlkIiwidG90YWxEb2NzIiwibG9naW5BdHRlbXB0IiwibG9naW4iLCJ0b2tlbiIsImNvbGxlY3Rpb25zIiwiY29va2llIiwiY29sbGVjdGlvbkF1dGhDb25maWciLCJjb25maWciLCJhdXRoIiwiY29va2llUHJlZml4IiwiUmVzcG9uc2UiLCJoZWFkZXJzIiwiSGVhZGVycyIsInN0YXR1cyIsImUiLCJtZXRob2QiLCJwYXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/endpoints/externalUsersLogin.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/hooks/ensureUniqueUsername.ts":
/*!*************************************************************!*\
  !*** ./src/collections/Users/hooks/ensureUniqueUsername.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureUniqueUsername: () => (/* binding */ ensureUniqueUsername)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/errors/ValidationError.js\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _payloadcms_plugin_multi_tenant_utilities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @payloadcms/plugin-multi-tenant/utilities */ \"(rsc)/./node_modules/@payloadcms/plugin-multi-tenant/dist/exports/utilities.js\");\n/* harmony import */ var _utilities_getCollectionIDType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utilities/getCollectionIDType */ \"(rsc)/./src/utilities/getCollectionIDType.ts\");\n\n\n\n\nconst ensureUniqueUsername = async ({ data, originalDoc, req, value })=>{\n    // if value is unchanged, skip validation\n    if (originalDoc.username === value) {\n        return value;\n    }\n    const constraints = [\n        {\n            username: {\n                equals: value\n            }\n        }\n    ];\n    const selectedTenant = (0,_payloadcms_plugin_multi_tenant_utilities__WEBPACK_IMPORTED_MODULE_1__.getTenantFromCookie)(req.headers, (0,_utilities_getCollectionIDType__WEBPACK_IMPORTED_MODULE_2__.getCollectionIDType)({\n        payload: req.payload,\n        collectionSlug: 'organizations'\n    }));\n    if (selectedTenant) {\n        constraints.push({\n            'tenants.tenant': {\n                equals: selectedTenant\n            }\n        });\n    }\n    const findDuplicateUsers = await req.payload.find({\n        collection: 'users',\n        where: {\n            and: constraints\n        }\n    });\n    if (findDuplicateUsers.docs.length > 0 && req.user) {\n        const tenantIDs = (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_0__.getUserTenantIDs)(req.user);\n        // if the user is an admin or has access to more than 1 tenant\n        // provide a more specific error message\n        if (req.user.roles?.includes('super-admin') || tenantIDs.length > 1) {\n            const attemptedTenantChange = await req.payload.findByID({\n                // @ts-ignore - selectedTenant will match DB ID type\n                id: selectedTenant,\n                collection: 'organizations'\n            });\n            throw new payload__WEBPACK_IMPORTED_MODULE_3__.ValidationError({\n                errors: [\n                    {\n                        message: `The \"${attemptedTenantChange.name}\" tenant already has a user with the username \"${value}\". Usernames must be unique per tenant.`,\n                        path: 'username'\n                    }\n                ]\n            });\n        }\n        throw new payload__WEBPACK_IMPORTED_MODULE_3__.ValidationError({\n            errors: [\n                {\n                    message: `A user with the username ${value} already exists. Usernames must be unique per tenant.`,\n                    path: 'username'\n                }\n            ]\n        });\n    }\n    return value;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvaG9va3MvZW5zdXJlVW5pcXVlVXNlcm5hbWUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFeUM7QUFFNkI7QUFFUztBQUNWO0FBRTlELE1BQU1JLHVCQUFrQyxPQUFPLEVBQUVDLElBQUksRUFBRUMsV0FBVyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRTtJQUNyRix5Q0FBeUM7SUFDekMsSUFBSUYsWUFBWUcsUUFBUSxLQUFLRCxPQUFPO1FBQ2xDLE9BQU9BO0lBQ1Q7SUFFQSxNQUFNRSxjQUF1QjtRQUMzQjtZQUNFRCxVQUFVO2dCQUNSRSxRQUFRSDtZQUNWO1FBQ0Y7S0FDRDtJQUVELE1BQU1JLGlCQUFpQlYsOEZBQW1CQSxDQUN4Q0ssSUFBSU0sT0FBTyxFQUNYVixtRkFBbUJBLENBQUM7UUFBRVcsU0FBU1AsSUFBSU8sT0FBTztRQUFFQyxnQkFBZ0I7SUFBZ0I7SUFHOUUsSUFBSUgsZ0JBQWdCO1FBQ2xCRixZQUFZTSxJQUFJLENBQUM7WUFDZixrQkFBa0I7Z0JBQ2hCTCxRQUFRQztZQUNWO1FBQ0Y7SUFDRjtJQUVBLE1BQU1LLHFCQUFxQixNQUFNVixJQUFJTyxPQUFPLENBQUNJLElBQUksQ0FBQztRQUNoREMsWUFBWTtRQUNaQyxPQUFPO1lBQ0xDLEtBQUtYO1FBQ1A7SUFDRjtJQUVBLElBQUlPLG1CQUFtQkssSUFBSSxDQUFDQyxNQUFNLEdBQUcsS0FBS2hCLElBQUlpQixJQUFJLEVBQUU7UUFDbEQsTUFBTUMsWUFBWXhCLDZFQUFnQkEsQ0FBQ00sSUFBSWlCLElBQUk7UUFDM0MsOERBQThEO1FBQzlELHdDQUF3QztRQUN4QyxJQUFJakIsSUFBSWlCLElBQUksQ0FBQ0UsS0FBSyxFQUFFQyxTQUFTLGtCQUFrQkYsVUFBVUYsTUFBTSxHQUFHLEdBQUc7WUFDbkUsTUFBTUssd0JBQXdCLE1BQU1yQixJQUFJTyxPQUFPLENBQUNlLFFBQVEsQ0FBQztnQkFDdkQsb0RBQW9EO2dCQUNwREMsSUFBSWxCO2dCQUNKTyxZQUFZO1lBQ2Q7WUFFQSxNQUFNLElBQUluQixvREFBZUEsQ0FBQztnQkFDeEIrQixRQUFRO29CQUNOO3dCQUNFQyxTQUFTLENBQUMsS0FBSyxFQUFFSixzQkFBc0JLLElBQUksQ0FBQywrQ0FBK0MsRUFBRXpCLE1BQU0sdUNBQXVDLENBQUM7d0JBQzNJMEIsTUFBTTtvQkFDUjtpQkFDRDtZQUNIO1FBQ0Y7UUFFQSxNQUFNLElBQUlsQyxvREFBZUEsQ0FBQztZQUN4QitCLFFBQVE7Z0JBQ047b0JBQ0VDLFNBQVMsQ0FBQyx5QkFBeUIsRUFBRXhCLE1BQU0scURBQXFELENBQUM7b0JBQ2pHMEIsTUFBTTtnQkFDUjthQUNEO1FBQ0g7SUFDRjtJQUVBLE9BQU8xQjtBQUNULEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9jb2xsZWN0aW9ucy9Vc2Vycy9ob29rcy9lbnN1cmVVbmlxdWVVc2VybmFtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZpZWxkSG9vaywgV2hlcmUgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgeyBWYWxpZGF0aW9uRXJyb3IgfSBmcm9tICdwYXlsb2FkJ1xuXG5pbXBvcnQgeyBnZXRVc2VyVGVuYW50SURzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbGl0aWVzL2dldFVzZXJUZW5hbnRJRHMnXG5pbXBvcnQgeyBleHRyYWN0SUQgfSBmcm9tICdAL3V0aWxpdGllcy9leHRyYWN0SUQnXG5pbXBvcnQgeyBnZXRUZW5hbnRGcm9tQ29va2llIH0gZnJvbSAnQHBheWxvYWRjbXMvcGx1Z2luLW11bHRpLXRlbmFudC91dGlsaXRpZXMnXG5pbXBvcnQgeyBnZXRDb2xsZWN0aW9uSURUeXBlIH0gZnJvbSAnQC91dGlsaXRpZXMvZ2V0Q29sbGVjdGlvbklEVHlwZSdcblxuZXhwb3J0IGNvbnN0IGVuc3VyZVVuaXF1ZVVzZXJuYW1lOiBGaWVsZEhvb2sgPSBhc3luYyAoeyBkYXRhLCBvcmlnaW5hbERvYywgcmVxLCB2YWx1ZSB9KSA9PiB7XG4gIC8vIGlmIHZhbHVlIGlzIHVuY2hhbmdlZCwgc2tpcCB2YWxpZGF0aW9uXG4gIGlmIChvcmlnaW5hbERvYy51c2VybmFtZSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGNvbnN0IGNvbnN0cmFpbnRzOiBXaGVyZVtdID0gW1xuICAgIHtcbiAgICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIGVxdWFsczogdmFsdWUsXG4gICAgICB9LFxuICAgIH0sXG4gIF1cblxuICBjb25zdCBzZWxlY3RlZFRlbmFudCA9IGdldFRlbmFudEZyb21Db29raWUoXG4gICAgcmVxLmhlYWRlcnMsXG4gICAgZ2V0Q29sbGVjdGlvbklEVHlwZSh7IHBheWxvYWQ6IHJlcS5wYXlsb2FkLCBjb2xsZWN0aW9uU2x1ZzogJ29yZ2FuaXphdGlvbnMnIH0pLFxuICApXG5cbiAgaWYgKHNlbGVjdGVkVGVuYW50KSB7XG4gICAgY29uc3RyYWludHMucHVzaCh7XG4gICAgICAndGVuYW50cy50ZW5hbnQnOiB7XG4gICAgICAgIGVxdWFsczogc2VsZWN0ZWRUZW5hbnQsXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBjb25zdCBmaW5kRHVwbGljYXRlVXNlcnMgPSBhd2FpdCByZXEucGF5bG9hZC5maW5kKHtcbiAgICBjb2xsZWN0aW9uOiAndXNlcnMnLFxuICAgIHdoZXJlOiB7XG4gICAgICBhbmQ6IGNvbnN0cmFpbnRzLFxuICAgIH0sXG4gIH0pXG5cbiAgaWYgKGZpbmREdXBsaWNhdGVVc2Vycy5kb2NzLmxlbmd0aCA+IDAgJiYgcmVxLnVzZXIpIHtcbiAgICBjb25zdCB0ZW5hbnRJRHMgPSBnZXRVc2VyVGVuYW50SURzKHJlcS51c2VyKVxuICAgIC8vIGlmIHRoZSB1c2VyIGlzIGFuIGFkbWluIG9yIGhhcyBhY2Nlc3MgdG8gbW9yZSB0aGFuIDEgdGVuYW50XG4gICAgLy8gcHJvdmlkZSBhIG1vcmUgc3BlY2lmaWMgZXJyb3IgbWVzc2FnZVxuICAgIGlmIChyZXEudXNlci5yb2xlcz8uaW5jbHVkZXMoJ3N1cGVyLWFkbWluJykgfHwgdGVuYW50SURzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGF0dGVtcHRlZFRlbmFudENoYW5nZSA9IGF3YWl0IHJlcS5wYXlsb2FkLmZpbmRCeUlEKHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIHNlbGVjdGVkVGVuYW50IHdpbGwgbWF0Y2ggREIgSUQgdHlwZVxuICAgICAgICBpZDogc2VsZWN0ZWRUZW5hbnQsXG4gICAgICAgIGNvbGxlY3Rpb246ICdvcmdhbml6YXRpb25zJyxcbiAgICAgIH0pXG5cbiAgICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtZXNzYWdlOiBgVGhlIFwiJHthdHRlbXB0ZWRUZW5hbnRDaGFuZ2UubmFtZX1cIiB0ZW5hbnQgYWxyZWFkeSBoYXMgYSB1c2VyIHdpdGggdGhlIHVzZXJuYW1lIFwiJHt2YWx1ZX1cIi4gVXNlcm5hbWVzIG11c3QgYmUgdW5pcXVlIHBlciB0ZW5hbnQuYCxcbiAgICAgICAgICAgIHBhdGg6ICd1c2VybmFtZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih7XG4gICAgICBlcnJvcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG1lc3NhZ2U6IGBBIHVzZXIgd2l0aCB0aGUgdXNlcm5hbWUgJHt2YWx1ZX0gYWxyZWFkeSBleGlzdHMuIFVzZXJuYW1lcyBtdXN0IGJlIHVuaXF1ZSBwZXIgdGVuYW50LmAsXG4gICAgICAgICAgcGF0aDogJ3VzZXJuYW1lJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiB2YWx1ZVxufVxuIl0sIm5hbWVzIjpbIlZhbGlkYXRpb25FcnJvciIsImdldFVzZXJUZW5hbnRJRHMiLCJnZXRUZW5hbnRGcm9tQ29va2llIiwiZ2V0Q29sbGVjdGlvbklEVHlwZSIsImVuc3VyZVVuaXF1ZVVzZXJuYW1lIiwiZGF0YSIsIm9yaWdpbmFsRG9jIiwicmVxIiwidmFsdWUiLCJ1c2VybmFtZSIsImNvbnN0cmFpbnRzIiwiZXF1YWxzIiwic2VsZWN0ZWRUZW5hbnQiLCJoZWFkZXJzIiwicGF5bG9hZCIsImNvbGxlY3Rpb25TbHVnIiwicHVzaCIsImZpbmREdXBsaWNhdGVVc2VycyIsImZpbmQiLCJjb2xsZWN0aW9uIiwid2hlcmUiLCJhbmQiLCJkb2NzIiwibGVuZ3RoIiwidXNlciIsInRlbmFudElEcyIsInJvbGVzIiwiaW5jbHVkZXMiLCJhdHRlbXB0ZWRUZW5hbnRDaGFuZ2UiLCJmaW5kQnlJRCIsImlkIiwiZXJyb3JzIiwibWVzc2FnZSIsIm5hbWUiLCJwYXRoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/hooks/ensureUniqueUsername.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/hooks/setCookieBasedOnDomain.ts":
/*!***************************************************************!*\
  !*** ./src/collections/Users/hooks/setCookieBasedOnDomain.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setCookieBasedOnDomain: () => (/* binding */ setCookieBasedOnDomain)\n/* harmony export */ });\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/auth/cookies.js\");\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/utilities/mergeHeaders.js\");\n\nconst setCookieBasedOnDomain = async ({ req, user })=>{\n    const relatedOrg = await req.payload.find({\n        collection: 'organizations',\n        depth: 0,\n        limit: 1,\n        where: {\n            domain: {\n                equals: req.headers.get('host')\n            }\n        }\n    });\n    // If a matching tenant is found, set the 'payload-tenant' cookie\n    if (relatedOrg && relatedOrg.docs.length > 0) {\n        const tenantCookie = (0,payload__WEBPACK_IMPORTED_MODULE_0__.generateCookie)({\n            name: 'payload-tenant',\n            expires: (0,payload__WEBPACK_IMPORTED_MODULE_0__.getCookieExpiration)({\n                seconds: 7200\n            }),\n            path: '/',\n            returnCookieAsObject: false,\n            value: String(relatedOrg.docs[0].id)\n        });\n        // Merge existing responseHeaders with the new Set-Cookie header\n        const newHeaders = new Headers({\n            'Set-Cookie': tenantCookie\n        });\n        // Ensure you merge existing response headers if they already exist\n        req.responseHeaders = req.responseHeaders ? (0,payload__WEBPACK_IMPORTED_MODULE_1__.mergeHeaders)(req.responseHeaders, newHeaders) : newHeaders;\n    }\n    return user;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvaG9va3Mvc2V0Q29va2llQmFzZWRPbkRvbWFpbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFMkU7QUFFcEUsTUFBTUcseUJBQW1ELE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUU7SUFDbEYsTUFBTUMsYUFBYSxNQUFNRixJQUFJRyxPQUFPLENBQUNDLElBQUksQ0FBQztRQUN4Q0MsWUFBWTtRQUNaQyxPQUFPO1FBQ1BDLE9BQU87UUFDUEMsT0FBTztZQUNMQyxRQUFRO2dCQUNOQyxRQUFRVixJQUFJVyxPQUFPLENBQUNDLEdBQUcsQ0FBQztZQUMxQjtRQUNGO0lBQ0Y7SUFFQSxpRUFBaUU7SUFDakUsSUFBSVYsY0FBY0EsV0FBV1csSUFBSSxDQUFDQyxNQUFNLEdBQUcsR0FBRztRQUM1QyxNQUFNQyxlQUFlbEIsdURBQWNBLENBQUM7WUFDbENtQixNQUFNO1lBQ05DLFNBQVNuQiw0REFBbUJBLENBQUM7Z0JBQUVvQixTQUFTO1lBQUs7WUFDN0NDLE1BQU07WUFDTkMsc0JBQXNCO1lBQ3RCQyxPQUFPQyxPQUFPcEIsV0FBV1csSUFBSSxDQUFDLEVBQUUsQ0FBQ1UsRUFBRTtRQUNyQztRQUVBLGdFQUFnRTtRQUNoRSxNQUFNQyxhQUFhLElBQUlDLFFBQVE7WUFDN0IsY0FBY1Y7UUFDaEI7UUFFQSxtRUFBbUU7UUFDbkVmLElBQUkwQixlQUFlLEdBQUcxQixJQUFJMEIsZUFBZSxHQUNyQzlCLHFEQUFZQSxDQUFDSSxJQUFJMEIsZUFBZSxFQUFFRixjQUNsQ0E7SUFDTjtJQUVBLE9BQU92QjtBQUNULEVBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2x1aXovSW1hZ2Vucy9tdWx0aS10ZW5hbnQtYnVnL3NyYy9jb2xsZWN0aW9ucy9Vc2Vycy9ob29rcy9zZXRDb29raWVCYXNlZE9uRG9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbkFmdGVyTG9naW5Ib29rIH0gZnJvbSAncGF5bG9hZCdcblxuaW1wb3J0IHsgbWVyZ2VIZWFkZXJzLCBnZW5lcmF0ZUNvb2tpZSwgZ2V0Q29va2llRXhwaXJhdGlvbiB9IGZyb20gJ3BheWxvYWQnXG5cbmV4cG9ydCBjb25zdCBzZXRDb29raWVCYXNlZE9uRG9tYWluOiBDb2xsZWN0aW9uQWZ0ZXJMb2dpbkhvb2sgPSBhc3luYyAoeyByZXEsIHVzZXIgfSkgPT4ge1xuICBjb25zdCByZWxhdGVkT3JnID0gYXdhaXQgcmVxLnBheWxvYWQuZmluZCh7XG4gICAgY29sbGVjdGlvbjogJ29yZ2FuaXphdGlvbnMnLFxuICAgIGRlcHRoOiAwLFxuICAgIGxpbWl0OiAxLFxuICAgIHdoZXJlOiB7XG4gICAgICBkb21haW46IHtcbiAgICAgICAgZXF1YWxzOiByZXEuaGVhZGVycy5nZXQoJ2hvc3QnKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfSlcblxuICAvLyBJZiBhIG1hdGNoaW5nIHRlbmFudCBpcyBmb3VuZCwgc2V0IHRoZSAncGF5bG9hZC10ZW5hbnQnIGNvb2tpZVxuICBpZiAocmVsYXRlZE9yZyAmJiByZWxhdGVkT3JnLmRvY3MubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHRlbmFudENvb2tpZSA9IGdlbmVyYXRlQ29va2llKHtcbiAgICAgIG5hbWU6ICdwYXlsb2FkLXRlbmFudCcsXG4gICAgICBleHBpcmVzOiBnZXRDb29raWVFeHBpcmF0aW9uKHsgc2Vjb25kczogNzIwMCB9KSxcbiAgICAgIHBhdGg6ICcvJyxcbiAgICAgIHJldHVybkNvb2tpZUFzT2JqZWN0OiBmYWxzZSxcbiAgICAgIHZhbHVlOiBTdHJpbmcocmVsYXRlZE9yZy5kb2NzWzBdLmlkKSxcbiAgICB9KVxuXG4gICAgLy8gTWVyZ2UgZXhpc3RpbmcgcmVzcG9uc2VIZWFkZXJzIHdpdGggdGhlIG5ldyBTZXQtQ29va2llIGhlYWRlclxuICAgIGNvbnN0IG5ld0hlYWRlcnMgPSBuZXcgSGVhZGVycyh7XG4gICAgICAnU2V0LUNvb2tpZSc6IHRlbmFudENvb2tpZSBhcyBzdHJpbmcsXG4gICAgfSlcblxuICAgIC8vIEVuc3VyZSB5b3UgbWVyZ2UgZXhpc3RpbmcgcmVzcG9uc2UgaGVhZGVycyBpZiB0aGV5IGFscmVhZHkgZXhpc3RcbiAgICByZXEucmVzcG9uc2VIZWFkZXJzID0gcmVxLnJlc3BvbnNlSGVhZGVyc1xuICAgICAgPyBtZXJnZUhlYWRlcnMocmVxLnJlc3BvbnNlSGVhZGVycywgbmV3SGVhZGVycylcbiAgICAgIDogbmV3SGVhZGVyc1xuICB9XG5cbiAgcmV0dXJuIHVzZXJcbn1cbiJdLCJuYW1lcyI6WyJtZXJnZUhlYWRlcnMiLCJnZW5lcmF0ZUNvb2tpZSIsImdldENvb2tpZUV4cGlyYXRpb24iLCJzZXRDb29raWVCYXNlZE9uRG9tYWluIiwicmVxIiwidXNlciIsInJlbGF0ZWRPcmciLCJwYXlsb2FkIiwiZmluZCIsImNvbGxlY3Rpb24iLCJkZXB0aCIsImxpbWl0Iiwid2hlcmUiLCJkb21haW4iLCJlcXVhbHMiLCJoZWFkZXJzIiwiZ2V0IiwiZG9jcyIsImxlbmd0aCIsInRlbmFudENvb2tpZSIsIm5hbWUiLCJleHBpcmVzIiwic2Vjb25kcyIsInBhdGgiLCJyZXR1cm5Db29raWVBc09iamVjdCIsInZhbHVlIiwiU3RyaW5nIiwiaWQiLCJuZXdIZWFkZXJzIiwiSGVhZGVycyIsInJlc3BvbnNlSGVhZGVycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/hooks/setCookieBasedOnDomain.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users/index.ts":
/*!****************************************!*\
  !*** ./src/collections/Users/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _access_create__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./access/create */ \"(rsc)/./src/collections/Users/access/create.ts\");\n/* harmony import */ var _access_read__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./access/read */ \"(rsc)/./src/collections/Users/access/read.ts\");\n/* harmony import */ var _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./access/updateAndDelete */ \"(rsc)/./src/collections/Users/access/updateAndDelete.ts\");\n/* harmony import */ var _endpoints_externalUsersLogin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./endpoints/externalUsersLogin */ \"(rsc)/./src/collections/Users/endpoints/externalUsersLogin.ts\");\n/* harmony import */ var _hooks_ensureUniqueUsername__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hooks/ensureUniqueUsername */ \"(rsc)/./src/collections/Users/hooks/ensureUniqueUsername.ts\");\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _hooks_setCookieBasedOnDomain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hooks/setCookieBasedOnDomain */ \"(rsc)/./src/collections/Users/hooks/setCookieBasedOnDomain.ts\");\n/* harmony import */ var _payloadcms_plugin_multi_tenant_fields__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @payloadcms/plugin-multi-tenant/fields */ \"(rsc)/./node_modules/@payloadcms/plugin-multi-tenant/dist/exports/fields.js\");\n/* harmony import */ var _Organizations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Organizations */ \"(rsc)/./src/collections/Organizations/index.ts\");\n\n\n\n\n\n\n\n\n\nconst defaultTenantArrayField = (0,_payloadcms_plugin_multi_tenant_fields__WEBPACK_IMPORTED_MODULE_7__.tenantsArrayField)({\n    tenantsArrayFieldName: 'organizations',\n    tenantsArrayTenantFieldName: 'organization',\n    tenantsCollectionSlug: _Organizations__WEBPACK_IMPORTED_MODULE_8__.Organizations.slug,\n    arrayFieldAccess: {},\n    tenantFieldAccess: {},\n    rowFields: [\n        {\n            name: 'roles',\n            type: 'select',\n            defaultValue: [\n                'tenant-viewer'\n            ],\n            hasMany: true,\n            options: [\n                'tenant-admin',\n                'tenant-viewer'\n            ],\n            required: true\n        }\n    ]\n});\nconst Users = {\n    slug: 'users',\n    access: {\n        create: _access_create__WEBPACK_IMPORTED_MODULE_0__.createAccess,\n        delete: _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_2__.updateAndDeleteAccess,\n        read: _access_read__WEBPACK_IMPORTED_MODULE_1__.readAccess,\n        update: _access_updateAndDelete__WEBPACK_IMPORTED_MODULE_2__.updateAndDeleteAccess\n    },\n    admin: {\n        useAsTitle: 'email'\n    },\n    auth: true,\n    endpoints: [\n        _endpoints_externalUsersLogin__WEBPACK_IMPORTED_MODULE_3__.externalUsersLogin\n    ],\n    fields: [\n        {\n            admin: {\n                position: 'sidebar'\n            },\n            name: 'roles',\n            type: 'select',\n            defaultValue: [\n                'user'\n            ],\n            hasMany: true,\n            options: [\n                'super-admin',\n                'user'\n            ],\n            access: {\n                update: ({ req })=>{\n                    return (0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_5__.isSuperAdmin)(req.user);\n                }\n            }\n        },\n        {\n            name: 'username',\n            type: 'text',\n            hooks: {\n                beforeValidate: [\n                    _hooks_ensureUniqueUsername__WEBPACK_IMPORTED_MODULE_4__.ensureUniqueUsername\n                ]\n            },\n            index: true\n        },\n        {\n            ...defaultTenantArrayField,\n            admin: {\n                ...defaultTenantArrayField?.admin || {},\n                position: 'sidebar'\n            }\n        }\n    ],\n    // The following hook sets a cookie based on the domain a user logs in from.\n    // It checks the domain and matches it to a tenant in the system, then sets\n    // a 'payload-tenant' cookie for that tenant.\n    hooks: {\n        afterLogin: [\n            _hooks_setCookieBasedOnDomain__WEBPACK_IMPORTED_MODULE_6__.setCookieBasedOnDomain\n        ]\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Users);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUU4QztBQUNKO0FBQ3NCO0FBQ0c7QUFDQTtBQUNmO0FBQ21CO0FBQ0c7QUFDMUI7QUFFaEQsTUFBTVMsMEJBQTBCRix5RkFBaUJBLENBQUM7SUFDaERHLHVCQUF1QjtJQUN2QkMsNkJBQTZCO0lBQzdCQyx1QkFBdUJKLHlEQUFhQSxDQUFDSyxJQUFJO0lBQ3pDQyxrQkFBa0IsQ0FBQztJQUNuQkMsbUJBQW1CLENBQUM7SUFDcEJDLFdBQVc7UUFDVDtZQUNFQyxNQUFNO1lBQ05DLE1BQU07WUFDTkMsY0FBYztnQkFBQzthQUFnQjtZQUMvQkMsU0FBUztZQUNUQyxTQUFTO2dCQUFDO2dCQUFnQjthQUFnQjtZQUMxQ0MsVUFBVTtRQUNaO0tBQ0Q7QUFDSDtBQUVBLE1BQU1DLFFBQTBCO0lBQzlCVixNQUFNO0lBQ05XLFFBQVE7UUFDTkMsUUFBUXpCLHdEQUFZQTtRQUNwQjBCLFFBQVF4QiwwRUFBcUJBO1FBQzdCeUIsTUFBTTFCLG9EQUFVQTtRQUNoQjJCLFFBQVExQiwwRUFBcUJBO0lBQy9CO0lBQ0EyQixPQUFPO1FBQ0xDLFlBQVk7SUFDZDtJQUNBQyxNQUFNO0lBQ05DLFdBQVc7UUFBQzdCLDZFQUFrQkE7S0FBQztJQUMvQjhCLFFBQVE7UUFDTjtZQUNFSixPQUFPO2dCQUNMSyxVQUFVO1lBQ1o7WUFDQWpCLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxjQUFjO2dCQUFDO2FBQU87WUFDdEJDLFNBQVM7WUFDVEMsU0FBUztnQkFBQztnQkFBZTthQUFPO1lBQ2hDRyxRQUFRO2dCQUNOSSxRQUFRLENBQUMsRUFBRU8sR0FBRyxFQUFFO29CQUNkLE9BQU85QixrRUFBWUEsQ0FBQzhCLElBQUlDLElBQUk7Z0JBQzlCO1lBQ0Y7UUFDRjtRQUNBO1lBQ0VuQixNQUFNO1lBQ05DLE1BQU07WUFDTm1CLE9BQU87Z0JBQ0xDLGdCQUFnQjtvQkFBQ2xDLDZFQUFvQkE7aUJBQUM7WUFDeEM7WUFDQW1DLE9BQU87UUFDVDtRQUNBO1lBQ0UsR0FBRzlCLHVCQUF1QjtZQUMxQm9CLE9BQU87Z0JBQ0wsR0FBSXBCLHlCQUF5Qm9CLFNBQVMsQ0FBQyxDQUFDO2dCQUN4Q0ssVUFBVTtZQUNaO1FBQ0Y7S0FDRDtJQUNELDRFQUE0RTtJQUM1RSwyRUFBMkU7SUFDM0UsNkNBQTZDO0lBRTdDRyxPQUFPO1FBQ0xHLFlBQVk7WUFBQ2xDLGlGQUFzQkE7U0FBQztJQUN0QztBQUNGO0FBRUEsaUVBQWVpQixLQUFLQSxFQUFBIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvY29sbGVjdGlvbnMvVXNlcnMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcblxuaW1wb3J0IHsgY3JlYXRlQWNjZXNzIH0gZnJvbSAnLi9hY2Nlc3MvY3JlYXRlJ1xuaW1wb3J0IHsgcmVhZEFjY2VzcyB9IGZyb20gJy4vYWNjZXNzL3JlYWQnXG5pbXBvcnQgeyB1cGRhdGVBbmREZWxldGVBY2Nlc3MgfSBmcm9tICcuL2FjY2Vzcy91cGRhdGVBbmREZWxldGUnXG5pbXBvcnQgeyBleHRlcm5hbFVzZXJzTG9naW4gfSBmcm9tICcuL2VuZHBvaW50cy9leHRlcm5hbFVzZXJzTG9naW4nXG5pbXBvcnQgeyBlbnN1cmVVbmlxdWVVc2VybmFtZSB9IGZyb20gJy4vaG9va3MvZW5zdXJlVW5pcXVlVXNlcm5hbWUnXG5pbXBvcnQgeyBpc1N1cGVyQWRtaW4gfSBmcm9tICdAL2FjY2Vzcy9pc1N1cGVyQWRtaW4nXG5pbXBvcnQgeyBzZXRDb29raWVCYXNlZE9uRG9tYWluIH0gZnJvbSAnLi9ob29rcy9zZXRDb29raWVCYXNlZE9uRG9tYWluJ1xuaW1wb3J0IHsgdGVuYW50c0FycmF5RmllbGQgfSBmcm9tICdAcGF5bG9hZGNtcy9wbHVnaW4tbXVsdGktdGVuYW50L2ZpZWxkcydcbmltcG9ydCB7IE9yZ2FuaXphdGlvbnMgfSBmcm9tICcuLi9Pcmdhbml6YXRpb25zJ1xuXG5jb25zdCBkZWZhdWx0VGVuYW50QXJyYXlGaWVsZCA9IHRlbmFudHNBcnJheUZpZWxkKHtcbiAgdGVuYW50c0FycmF5RmllbGROYW1lOiAnb3JnYW5pemF0aW9ucycsXG4gIHRlbmFudHNBcnJheVRlbmFudEZpZWxkTmFtZTogJ29yZ2FuaXphdGlvbicsXG4gIHRlbmFudHNDb2xsZWN0aW9uU2x1ZzogT3JnYW5pemF0aW9ucy5zbHVnLFxuICBhcnJheUZpZWxkQWNjZXNzOiB7fSxcbiAgdGVuYW50RmllbGRBY2Nlc3M6IHt9LFxuICByb3dGaWVsZHM6IFtcbiAgICB7XG4gICAgICBuYW1lOiAncm9sZXMnLFxuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBkZWZhdWx0VmFsdWU6IFsndGVuYW50LXZpZXdlciddLFxuICAgICAgaGFzTWFueTogdHJ1ZSxcbiAgICAgIG9wdGlvbnM6IFsndGVuYW50LWFkbWluJywgJ3RlbmFudC12aWV3ZXInXSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gIF0sXG59KVxuXG5jb25zdCBVc2VyczogQ29sbGVjdGlvbkNvbmZpZyA9IHtcbiAgc2x1ZzogJ3VzZXJzJyxcbiAgYWNjZXNzOiB7XG4gICAgY3JlYXRlOiBjcmVhdGVBY2Nlc3MsXG4gICAgZGVsZXRlOiB1cGRhdGVBbmREZWxldGVBY2Nlc3MsXG4gICAgcmVhZDogcmVhZEFjY2VzcyxcbiAgICB1cGRhdGU6IHVwZGF0ZUFuZERlbGV0ZUFjY2VzcyxcbiAgfSxcbiAgYWRtaW46IHtcbiAgICB1c2VBc1RpdGxlOiAnZW1haWwnLFxuICB9LFxuICBhdXRoOiB0cnVlLFxuICBlbmRwb2ludHM6IFtleHRlcm5hbFVzZXJzTG9naW5dLFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBhZG1pbjoge1xuICAgICAgICBwb3NpdGlvbjogJ3NpZGViYXInLFxuICAgICAgfSxcbiAgICAgIG5hbWU6ICdyb2xlcycsXG4gICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgIGRlZmF1bHRWYWx1ZTogWyd1c2VyJ10sXG4gICAgICBoYXNNYW55OiB0cnVlLFxuICAgICAgb3B0aW9uczogWydzdXBlci1hZG1pbicsICd1c2VyJ10sXG4gICAgICBhY2Nlc3M6IHtcbiAgICAgICAgdXBkYXRlOiAoeyByZXEgfSkgPT4ge1xuICAgICAgICAgIHJldHVybiBpc1N1cGVyQWRtaW4ocmVxLnVzZXIpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3VzZXJuYW1lJyxcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIGhvb2tzOiB7XG4gICAgICAgIGJlZm9yZVZhbGlkYXRlOiBbZW5zdXJlVW5pcXVlVXNlcm5hbWVdLFxuICAgICAgfSxcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgLi4uZGVmYXVsdFRlbmFudEFycmF5RmllbGQsXG4gICAgICBhZG1pbjoge1xuICAgICAgICAuLi4oZGVmYXVsdFRlbmFudEFycmF5RmllbGQ/LmFkbWluIHx8IHt9KSxcbiAgICAgICAgcG9zaXRpb246ICdzaWRlYmFyJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgXSxcbiAgLy8gVGhlIGZvbGxvd2luZyBob29rIHNldHMgYSBjb29raWUgYmFzZWQgb24gdGhlIGRvbWFpbiBhIHVzZXIgbG9ncyBpbiBmcm9tLlxuICAvLyBJdCBjaGVja3MgdGhlIGRvbWFpbiBhbmQgbWF0Y2hlcyBpdCB0byBhIHRlbmFudCBpbiB0aGUgc3lzdGVtLCB0aGVuIHNldHNcbiAgLy8gYSAncGF5bG9hZC10ZW5hbnQnIGNvb2tpZSBmb3IgdGhhdCB0ZW5hbnQuXG5cbiAgaG9va3M6IHtcbiAgICBhZnRlckxvZ2luOiBbc2V0Q29va2llQmFzZWRPbkRvbWFpbl0sXG4gIH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJzXG4iXSwibmFtZXMiOlsiY3JlYXRlQWNjZXNzIiwicmVhZEFjY2VzcyIsInVwZGF0ZUFuZERlbGV0ZUFjY2VzcyIsImV4dGVybmFsVXNlcnNMb2dpbiIsImVuc3VyZVVuaXF1ZVVzZXJuYW1lIiwiaXNTdXBlckFkbWluIiwic2V0Q29va2llQmFzZWRPbkRvbWFpbiIsInRlbmFudHNBcnJheUZpZWxkIiwiT3JnYW5pemF0aW9ucyIsImRlZmF1bHRUZW5hbnRBcnJheUZpZWxkIiwidGVuYW50c0FycmF5RmllbGROYW1lIiwidGVuYW50c0FycmF5VGVuYW50RmllbGROYW1lIiwidGVuYW50c0NvbGxlY3Rpb25TbHVnIiwic2x1ZyIsImFycmF5RmllbGRBY2Nlc3MiLCJ0ZW5hbnRGaWVsZEFjY2VzcyIsInJvd0ZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwiZGVmYXVsdFZhbHVlIiwiaGFzTWFueSIsIm9wdGlvbnMiLCJyZXF1aXJlZCIsIlVzZXJzIiwiYWNjZXNzIiwiY3JlYXRlIiwiZGVsZXRlIiwicmVhZCIsInVwZGF0ZSIsImFkbWluIiwidXNlQXNUaXRsZSIsImF1dGgiLCJlbmRwb2ludHMiLCJmaWVsZHMiLCJwb3NpdGlvbiIsInJlcSIsInVzZXIiLCJob29rcyIsImJlZm9yZVZhbGlkYXRlIiwiaW5kZXgiLCJhZnRlckxvZ2luIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/payload.config.ts":
/*!*******************************!*\
  !*** ./src/payload.config.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_db_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/db-postgres */ \"(rsc)/./node_modules/@payloadcms/db-postgres/dist/index.js\");\n/* harmony import */ var _payloadcms_richtext_lexical__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @payloadcms/richtext-lexical */ \"(rsc)/./node_modules/@payloadcms/richtext-lexical/dist/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/config/build.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _collections_Pages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collections/Pages */ \"(rsc)/./src/collections/Pages/index.ts\");\n/* harmony import */ var _collections_Organizations__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./collections/Organizations */ \"(rsc)/./src/collections/Organizations/index.ts\");\n/* harmony import */ var _collections_Users__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collections/Users */ \"(rsc)/./src/collections/Users/index.ts\");\n/* harmony import */ var _payloadcms_plugin_multi_tenant__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @payloadcms/plugin-multi-tenant */ \"(rsc)/./node_modules/@payloadcms/plugin-multi-tenant/dist/index.js\");\n/* harmony import */ var _access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./access/isSuperAdmin */ \"(rsc)/./src/access/isSuperAdmin.ts\");\n/* harmony import */ var _utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utilities/getUserTenantIDs */ \"(rsc)/./src/utilities/getUserTenantIDs.ts\");\n/* harmony import */ var _seed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./seed */ \"(rsc)/./src/seed.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst filename = (0,url__WEBPACK_IMPORTED_MODULE_2__.fileURLToPath)(\"file:///home/luiz/Imagens/multi-tenant-bug/src/payload.config.ts\");\nconst dirname = path__WEBPACK_IMPORTED_MODULE_1___default().dirname(filename);\n// eslint-disable-next-line no-restricted-exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,payload__WEBPACK_IMPORTED_MODULE_10__.buildConfig)({\n    debug: true,\n    admin: {\n        user: 'users'\n    },\n    collections: [\n        _collections_Pages__WEBPACK_IMPORTED_MODULE_3__.Pages,\n        _collections_Users__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n        _collections_Organizations__WEBPACK_IMPORTED_MODULE_4__.Organizations\n    ],\n    db: (0,_payloadcms_db_postgres__WEBPACK_IMPORTED_MODULE_0__.postgresAdapter)({\n        pool: {\n            connectionString: process.env.POSTGRES_URL\n        }\n    }),\n    onInit: async (args)=>{\n        if (process.env.SEED_DB) {\n            await (0,_seed__WEBPACK_IMPORTED_MODULE_9__.seed)(args);\n        }\n    },\n    editor: (0,_payloadcms_richtext_lexical__WEBPACK_IMPORTED_MODULE_11__.lexicalEditor)({}),\n    graphQL: {\n        schemaOutputFile: path__WEBPACK_IMPORTED_MODULE_1___default().resolve(dirname, 'generated-schema.graphql')\n    },\n    secret: process.env.PAYLOAD_SECRET,\n    typescript: {\n        outputFile: path__WEBPACK_IMPORTED_MODULE_1___default().resolve(dirname, 'payload-types.ts')\n    },\n    plugins: [\n        (0,_payloadcms_plugin_multi_tenant__WEBPACK_IMPORTED_MODULE_6__.multiTenantPlugin)({\n            collections: {\n                pages: {}\n            },\n            tenantsSlug: _collections_Organizations__WEBPACK_IMPORTED_MODULE_4__.Organizations.slug,\n            tenantField: {\n                access: {\n                    read: ()=>true,\n                    update: ({ req })=>{\n                        if ((0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_7__.isSuperAdmin)(req.user)) {\n                            return true;\n                        }\n                        return (0,_utilities_getUserTenantIDs__WEBPACK_IMPORTED_MODULE_8__.getUserTenantIDs)(req.user).length > 0;\n                    }\n                }\n            },\n            tenantsArrayField: {\n                includeDefaultField: false\n            },\n            userHasAccessToAllTenants: (user)=>(0,_access_isSuperAdmin__WEBPACK_IMPORTED_MODULE_7__.isSuperAdmin)(user)\n        })\n    ]\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvcGF5bG9hZC5jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0c7QUFDckM7QUFDYztBQUNGO0FBRVE7QUFDZ0I7QUFDcEI7QUFDNEI7QUFDZjtBQUVXO0FBQ2xDO0FBRTdCLE1BQU1ZLFdBQVdSLGtEQUFhQSxDQUFDLGtFQUFlO0FBQzlDLE1BQU1VLFVBQVVaLG1EQUFZLENBQUNVO0FBRTdCLGlEQUFpRDtBQUNqRCxpRUFBZVQscURBQVdBLENBQUM7SUFDekJZLE9BQU87SUFDUEMsT0FBTztRQUNMQyxNQUFNO0lBQ1I7SUFDQUMsYUFBYTtRQUFDYixxREFBS0E7UUFBRUUsMERBQUtBO1FBQUVELHFFQUFhQTtLQUFDO0lBQzFDYSxJQUFJbkIsd0VBQWVBLENBQUM7UUFDbEJvQixNQUFNO1lBQ0pDLGtCQUFrQkMsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO1FBQzVDO0lBQ0Y7SUFDQUMsUUFBUSxPQUFPQztRQUNiLElBQUlKLFFBQVFDLEdBQUcsQ0FBQ0ksT0FBTyxFQUFFO1lBQ3ZCLE1BQU1oQiwyQ0FBSUEsQ0FBQ2U7UUFDYjtJQUNGO0lBQ0FFLFFBQVEzQiw0RUFBYUEsQ0FBQyxDQUFDO0lBQ3ZCNEIsU0FBUztRQUNQQyxrQkFBa0I1QixtREFBWSxDQUFDWSxTQUFTO0lBQzFDO0lBQ0FrQixRQUFRVixRQUFRQyxHQUFHLENBQUNVLGNBQWM7SUFDbENDLFlBQVk7UUFDVkMsWUFBWWpDLG1EQUFZLENBQUNZLFNBQVM7SUFDcEM7SUFDQXNCLFNBQVM7UUFDUDVCLGtGQUFpQkEsQ0FBUztZQUN4QlUsYUFBYTtnQkFDWG1CLE9BQU8sQ0FBQztZQUNWO1lBQ0FDLGFBQWFoQyxxRUFBYUEsQ0FBQ2lDLElBQUk7WUFDL0JDLGFBQWE7Z0JBQ1hDLFFBQVE7b0JBQ05DLE1BQU0sSUFBTTtvQkFDWkMsUUFBUSxDQUFDLEVBQUVDLEdBQUcsRUFBRTt3QkFDZCxJQUFJbkMsa0VBQVlBLENBQUNtQyxJQUFJM0IsSUFBSSxHQUFHOzRCQUMxQixPQUFPO3dCQUNUO3dCQUNBLE9BQU9QLDZFQUFnQkEsQ0FBQ2tDLElBQUkzQixJQUFJLEVBQUU0QixNQUFNLEdBQUc7b0JBQzdDO2dCQUNGO1lBQ0Y7WUFDQUMsbUJBQW1CO2dCQUNqQkMscUJBQXFCO1lBQ3ZCO1lBQ0FDLDJCQUEyQixDQUFDL0IsT0FBU1Isa0VBQVlBLENBQUNRO1FBQ3BEO0tBQ0Q7QUFDSCxFQUFFIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvcGF5bG9hZC5jb25maWcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9zdGdyZXNBZGFwdGVyIH0gZnJvbSAnQHBheWxvYWRjbXMvZGItcG9zdGdyZXMnXG5pbXBvcnQgeyBsZXhpY2FsRWRpdG9yIH0gZnJvbSAnQHBheWxvYWRjbXMvcmljaHRleHQtbGV4aWNhbCdcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBidWlsZENvbmZpZyB9IGZyb20gJ3BheWxvYWQnXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJ1xuXG5pbXBvcnQgeyBQYWdlcyB9IGZyb20gJy4vY29sbGVjdGlvbnMvUGFnZXMnXG5pbXBvcnQgeyBPcmdhbml6YXRpb25zIH0gZnJvbSAnLi9jb2xsZWN0aW9ucy9Pcmdhbml6YXRpb25zJ1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vY29sbGVjdGlvbnMvVXNlcnMnXG5pbXBvcnQgeyBtdWx0aVRlbmFudFBsdWdpbiB9IGZyb20gJ0BwYXlsb2FkY21zL3BsdWdpbi1tdWx0aS10ZW5hbnQnXG5pbXBvcnQgeyBpc1N1cGVyQWRtaW4gfSBmcm9tICcuL2FjY2Vzcy9pc1N1cGVyQWRtaW4nXG5pbXBvcnQgdHlwZSB7IENvbmZpZyB9IGZyb20gJy4vcGF5bG9hZC10eXBlcydcbmltcG9ydCB7IGdldFVzZXJUZW5hbnRJRHMgfSBmcm9tICcuL3V0aWxpdGllcy9nZXRVc2VyVGVuYW50SURzJ1xuaW1wb3J0IHsgc2VlZCB9IGZyb20gJy4vc2VlZCdcblxuY29uc3QgZmlsZW5hbWUgPSBmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybClcbmNvbnN0IGRpcm5hbWUgPSBwYXRoLmRpcm5hbWUoZmlsZW5hbWUpXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGJ1aWxkQ29uZmlnKHtcbiAgZGVidWc6IHRydWUsXG4gIGFkbWluOiB7XG4gICAgdXNlcjogJ3VzZXJzJyxcbiAgfSxcbiAgY29sbGVjdGlvbnM6IFtQYWdlcywgVXNlcnMsIE9yZ2FuaXphdGlvbnNdLFxuICBkYjogcG9zdGdyZXNBZGFwdGVyKHtcbiAgICBwb29sOiB7XG4gICAgICBjb25uZWN0aW9uU3RyaW5nOiBwcm9jZXNzLmVudi5QT1NUR1JFU19VUkwsXG4gICAgfSxcbiAgfSksXG4gIG9uSW5pdDogYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuU0VFRF9EQikge1xuICAgICAgYXdhaXQgc2VlZChhcmdzKVxuICAgIH1cbiAgfSxcbiAgZWRpdG9yOiBsZXhpY2FsRWRpdG9yKHt9KSxcbiAgZ3JhcGhRTDoge1xuICAgIHNjaGVtYU91dHB1dEZpbGU6IHBhdGgucmVzb2x2ZShkaXJuYW1lLCAnZ2VuZXJhdGVkLXNjaGVtYS5ncmFwaHFsJyksXG4gIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuUEFZTE9BRF9TRUNSRVQgYXMgc3RyaW5nLFxuICB0eXBlc2NyaXB0OiB7XG4gICAgb3V0cHV0RmlsZTogcGF0aC5yZXNvbHZlKGRpcm5hbWUsICdwYXlsb2FkLXR5cGVzLnRzJyksXG4gIH0sXG4gIHBsdWdpbnM6IFtcbiAgICBtdWx0aVRlbmFudFBsdWdpbjxDb25maWc+KHtcbiAgICAgIGNvbGxlY3Rpb25zOiB7XG4gICAgICAgIHBhZ2VzOiB7fSxcbiAgICAgIH0sXG4gICAgICB0ZW5hbnRzU2x1ZzogT3JnYW5pemF0aW9ucy5zbHVnLFxuICAgICAgdGVuYW50RmllbGQ6IHtcbiAgICAgICAgYWNjZXNzOiB7XG4gICAgICAgICAgcmVhZDogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICB1cGRhdGU6ICh7IHJlcSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdXBlckFkbWluKHJlcS51c2VyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJUZW5hbnRJRHMocmVxLnVzZXIpLmxlbmd0aCA+IDBcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRlbmFudHNBcnJheUZpZWxkOiB7XG4gICAgICAgIGluY2x1ZGVEZWZhdWx0RmllbGQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIHVzZXJIYXNBY2Nlc3NUb0FsbFRlbmFudHM6ICh1c2VyKSA9PiBpc1N1cGVyQWRtaW4odXNlciksXG4gICAgfSksXG4gIF0sXG59KVxuIl0sIm5hbWVzIjpbInBvc3RncmVzQWRhcHRlciIsImxleGljYWxFZGl0b3IiLCJwYXRoIiwiYnVpbGRDb25maWciLCJmaWxlVVJMVG9QYXRoIiwiUGFnZXMiLCJPcmdhbml6YXRpb25zIiwiVXNlcnMiLCJtdWx0aVRlbmFudFBsdWdpbiIsImlzU3VwZXJBZG1pbiIsImdldFVzZXJUZW5hbnRJRHMiLCJzZWVkIiwiZmlsZW5hbWUiLCJ1cmwiLCJkaXJuYW1lIiwiZGVidWciLCJhZG1pbiIsInVzZXIiLCJjb2xsZWN0aW9ucyIsImRiIiwicG9vbCIsImNvbm5lY3Rpb25TdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiUE9TVEdSRVNfVVJMIiwib25Jbml0IiwiYXJncyIsIlNFRURfREIiLCJlZGl0b3IiLCJncmFwaFFMIiwic2NoZW1hT3V0cHV0RmlsZSIsInJlc29sdmUiLCJzZWNyZXQiLCJQQVlMT0FEX1NFQ1JFVCIsInR5cGVzY3JpcHQiLCJvdXRwdXRGaWxlIiwicGx1Z2lucyIsInBhZ2VzIiwidGVuYW50c1NsdWciLCJzbHVnIiwidGVuYW50RmllbGQiLCJhY2Nlc3MiLCJyZWFkIiwidXBkYXRlIiwicmVxIiwibGVuZ3RoIiwidGVuYW50c0FycmF5RmllbGQiLCJpbmNsdWRlRGVmYXVsdEZpZWxkIiwidXNlckhhc0FjY2Vzc1RvQWxsVGVuYW50cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/payload.config.ts\n");

/***/ }),

/***/ "(rsc)/./src/seed.ts":
/*!*********************!*\
  !*** ./src/seed.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   seed: () => (/* binding */ seed)\n/* harmony export */ });\nconst seed = async (payload)=>{\n    const tenant1 = await payload.create({\n        collection: 'organizations',\n        data: {\n            name: 'Tenant 1',\n            slug: 'gold',\n            domain: 'gold.localhost'\n        }\n    });\n    const tenant2 = await payload.create({\n        collection: 'organizations',\n        data: {\n            name: 'Tenant 2',\n            slug: 'silver',\n            domain: 'silver.localhost'\n        }\n    });\n    const tenant3 = await payload.create({\n        collection: 'organizations',\n        data: {\n            name: 'Tenant 3',\n            slug: 'bronze',\n            domain: 'bronze.localhost'\n        }\n    });\n    await payload.create({\n        collection: 'users',\n        data: {\n            email: 'demo@payloadcms.com',\n            password: 'demo',\n            roles: [\n                'super-admin'\n            ]\n        }\n    });\n    await payload.create({\n        collection: 'users',\n        data: {\n            email: 'tenant1@payloadcms.com',\n            password: 'demo',\n            organizations: [\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant1.id\n                }\n            ],\n            username: 'tenant1'\n        }\n    });\n    await payload.create({\n        collection: 'users',\n        data: {\n            email: 'tenant2@payloadcms.com',\n            password: 'demo',\n            organizations: [\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant2.id\n                }\n            ],\n            username: 'tenant2'\n        }\n    });\n    await payload.create({\n        collection: 'users',\n        data: {\n            email: 'tenant3@payloadcms.com',\n            password: 'demo',\n            organizations: [\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant3.id\n                }\n            ],\n            username: 'tenant3'\n        }\n    });\n    await payload.create({\n        collection: 'users',\n        data: {\n            email: 'multi-admin@payloadcms.com',\n            password: 'demo',\n            organizations: [\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant1.id\n                },\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant2.id\n                },\n                {\n                    roles: [\n                        'tenant-admin'\n                    ],\n                    organization: tenant3.id\n                }\n            ],\n            username: 'multi-admin'\n        }\n    });\n    await payload.create({\n        collection: 'pages',\n        data: {\n            slug: 'home',\n            tenant: tenant1.id,\n            title: 'Page for Tenant 1'\n        }\n    });\n    await payload.create({\n        collection: 'pages',\n        data: {\n            slug: 'home',\n            tenant: tenant2.id,\n            title: 'Page for Tenant 2'\n        }\n    });\n    await payload.create({\n        collection: 'pages',\n        data: {\n            slug: 'home',\n            tenant: tenant3.id,\n            title: 'Page for Tenant 3'\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvc2VlZC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRU8sTUFBTUEsT0FBc0MsT0FBT0M7SUFDeEQsTUFBTUMsVUFBVSxNQUFNRCxRQUFRRSxNQUFNLENBQUM7UUFDbkNDLFlBQVk7UUFDWkMsTUFBTTtZQUNKQyxNQUFNO1lBQ05DLE1BQU07WUFDTkMsUUFBUTtRQUNWO0lBQ0Y7SUFFQSxNQUFNQyxVQUFVLE1BQU1SLFFBQVFFLE1BQU0sQ0FBQztRQUNuQ0MsWUFBWTtRQUNaQyxNQUFNO1lBQ0pDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxRQUFRO1FBQ1Y7SUFDRjtJQUVBLE1BQU1FLFVBQVUsTUFBTVQsUUFBUUUsTUFBTSxDQUFDO1FBQ25DQyxZQUFZO1FBQ1pDLE1BQU07WUFDSkMsTUFBTTtZQUNOQyxNQUFNO1lBQ05DLFFBQVE7UUFDVjtJQUNGO0lBRUEsTUFBTVAsUUFBUUUsTUFBTSxDQUFDO1FBQ25CQyxZQUFZO1FBQ1pDLE1BQU07WUFDSk0sT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLE9BQU87Z0JBQUM7YUFBYztRQUN4QjtJQUNGO0lBRUEsTUFBTVosUUFBUUUsTUFBTSxDQUFDO1FBQ25CQyxZQUFZO1FBQ1pDLE1BQU07WUFDSk0sT0FBTztZQUNQQyxVQUFVO1lBQ1ZFLGVBQWU7Z0JBQ2I7b0JBQ0VELE9BQU87d0JBQUM7cUJBQWU7b0JBQ3ZCRSxjQUFjYixRQUFRYyxFQUFFO2dCQUMxQjthQUNEO1lBQ0RDLFVBQVU7UUFDWjtJQUNGO0lBRUEsTUFBTWhCLFFBQVFFLE1BQU0sQ0FBQztRQUNuQkMsWUFBWTtRQUNaQyxNQUFNO1lBQ0pNLE9BQU87WUFDUEMsVUFBVTtZQUNWRSxlQUFlO2dCQUNiO29CQUNFRCxPQUFPO3dCQUFDO3FCQUFlO29CQUN2QkUsY0FBY04sUUFBUU8sRUFBRTtnQkFDMUI7YUFDRDtZQUNEQyxVQUFVO1FBQ1o7SUFDRjtJQUVBLE1BQU1oQixRQUFRRSxNQUFNLENBQUM7UUFDbkJDLFlBQVk7UUFDWkMsTUFBTTtZQUNKTSxPQUFPO1lBQ1BDLFVBQVU7WUFDVkUsZUFBZTtnQkFDYjtvQkFDRUQsT0FBTzt3QkFBQztxQkFBZTtvQkFDdkJFLGNBQWNMLFFBQVFNLEVBQUU7Z0JBQzFCO2FBQ0Q7WUFDREMsVUFBVTtRQUNaO0lBQ0Y7SUFFQSxNQUFNaEIsUUFBUUUsTUFBTSxDQUFDO1FBQ25CQyxZQUFZO1FBQ1pDLE1BQU07WUFDSk0sT0FBTztZQUNQQyxVQUFVO1lBQ1ZFLGVBQWU7Z0JBQ2I7b0JBQ0VELE9BQU87d0JBQUM7cUJBQWU7b0JBQ3ZCRSxjQUFjYixRQUFRYyxFQUFFO2dCQUMxQjtnQkFDQTtvQkFDRUgsT0FBTzt3QkFBQztxQkFBZTtvQkFDdkJFLGNBQWNOLFFBQVFPLEVBQUU7Z0JBQzFCO2dCQUNBO29CQUNFSCxPQUFPO3dCQUFDO3FCQUFlO29CQUN2QkUsY0FBY0wsUUFBUU0sRUFBRTtnQkFDMUI7YUFDRDtZQUNEQyxVQUFVO1FBQ1o7SUFDRjtJQUVBLE1BQU1oQixRQUFRRSxNQUFNLENBQUM7UUFDbkJDLFlBQVk7UUFDWkMsTUFBTTtZQUNKRSxNQUFNO1lBQ05XLFFBQVFoQixRQUFRYyxFQUFFO1lBQ2xCRyxPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1sQixRQUFRRSxNQUFNLENBQUM7UUFDbkJDLFlBQVk7UUFDWkMsTUFBTTtZQUNKRSxNQUFNO1lBQ05XLFFBQVFULFFBQVFPLEVBQUU7WUFDbEJHLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTWxCLFFBQVFFLE1BQU0sQ0FBQztRQUNuQkMsWUFBWTtRQUNaQyxNQUFNO1lBQ0pFLE1BQU07WUFDTlcsUUFBUVIsUUFBUU0sRUFBRTtZQUNsQkcsT0FBTztRQUNUO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvc2VlZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25maWcgfSBmcm9tICdwYXlsb2FkJ1xuXG5leHBvcnQgY29uc3Qgc2VlZDogTm9uTnVsbGFibGU8Q29uZmlnWydvbkluaXQnXT4gPSBhc3luYyAocGF5bG9hZCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCB0ZW5hbnQxID0gYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgIGNvbGxlY3Rpb246ICdvcmdhbml6YXRpb25zJyxcbiAgICBkYXRhOiB7XG4gICAgICBuYW1lOiAnVGVuYW50IDEnLFxuICAgICAgc2x1ZzogJ2dvbGQnLFxuICAgICAgZG9tYWluOiAnZ29sZC5sb2NhbGhvc3QnLFxuICAgIH0sXG4gIH0pXG5cbiAgY29uc3QgdGVuYW50MiA9IGF3YWl0IHBheWxvYWQuY3JlYXRlKHtcbiAgICBjb2xsZWN0aW9uOiAnb3JnYW5pemF0aW9ucycsXG4gICAgZGF0YToge1xuICAgICAgbmFtZTogJ1RlbmFudCAyJyxcbiAgICAgIHNsdWc6ICdzaWx2ZXInLFxuICAgICAgZG9tYWluOiAnc2lsdmVyLmxvY2FsaG9zdCcsXG4gICAgfSxcbiAgfSlcblxuICBjb25zdCB0ZW5hbnQzID0gYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgIGNvbGxlY3Rpb246ICdvcmdhbml6YXRpb25zJyxcbiAgICBkYXRhOiB7XG4gICAgICBuYW1lOiAnVGVuYW50IDMnLFxuICAgICAgc2x1ZzogJ2Jyb256ZScsXG4gICAgICBkb21haW46ICdicm9uemUubG9jYWxob3N0JyxcbiAgICB9LFxuICB9KVxuXG4gIGF3YWl0IHBheWxvYWQuY3JlYXRlKHtcbiAgICBjb2xsZWN0aW9uOiAndXNlcnMnLFxuICAgIGRhdGE6IHtcbiAgICAgIGVtYWlsOiAnZGVtb0BwYXlsb2FkY21zLmNvbScsXG4gICAgICBwYXNzd29yZDogJ2RlbW8nLFxuICAgICAgcm9sZXM6IFsnc3VwZXItYWRtaW4nXSxcbiAgICB9LFxuICB9KVxuXG4gIGF3YWl0IHBheWxvYWQuY3JlYXRlKHtcbiAgICBjb2xsZWN0aW9uOiAndXNlcnMnLFxuICAgIGRhdGE6IHtcbiAgICAgIGVtYWlsOiAndGVuYW50MUBwYXlsb2FkY21zLmNvbScsXG4gICAgICBwYXNzd29yZDogJ2RlbW8nLFxuICAgICAgb3JnYW5pemF0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZXM6IFsndGVuYW50LWFkbWluJ10sXG4gICAgICAgICAgb3JnYW5pemF0aW9uOiB0ZW5hbnQxLmlkLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHVzZXJuYW1lOiAndGVuYW50MScsXG4gICAgfSxcbiAgfSlcblxuICBhd2FpdCBwYXlsb2FkLmNyZWF0ZSh7XG4gICAgY29sbGVjdGlvbjogJ3VzZXJzJyxcbiAgICBkYXRhOiB7XG4gICAgICBlbWFpbDogJ3RlbmFudDJAcGF5bG9hZGNtcy5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdkZW1vJyxcbiAgICAgIG9yZ2FuaXphdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGVzOiBbJ3RlbmFudC1hZG1pbiddLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGVuYW50Mi5pZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICB1c2VybmFtZTogJ3RlbmFudDInLFxuICAgIH0sXG4gIH0pXG5cbiAgYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgIGNvbGxlY3Rpb246ICd1c2VycycsXG4gICAgZGF0YToge1xuICAgICAgZW1haWw6ICd0ZW5hbnQzQHBheWxvYWRjbXMuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnZGVtbycsXG4gICAgICBvcmdhbml6YXRpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlczogWyd0ZW5hbnQtYWRtaW4nXSxcbiAgICAgICAgICBvcmdhbml6YXRpb246IHRlbmFudDMuaWQsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgdXNlcm5hbWU6ICd0ZW5hbnQzJyxcbiAgICB9LFxuICB9KVxuXG4gIGF3YWl0IHBheWxvYWQuY3JlYXRlKHtcbiAgICBjb2xsZWN0aW9uOiAndXNlcnMnLFxuICAgIGRhdGE6IHtcbiAgICAgIGVtYWlsOiAnbXVsdGktYWRtaW5AcGF5bG9hZGNtcy5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdkZW1vJyxcbiAgICAgIG9yZ2FuaXphdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGVzOiBbJ3RlbmFudC1hZG1pbiddLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGVuYW50MS5pZCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGVzOiBbJ3RlbmFudC1hZG1pbiddLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGVuYW50Mi5pZCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHJvbGVzOiBbJ3RlbmFudC1hZG1pbiddLFxuICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGVuYW50My5pZCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICB1c2VybmFtZTogJ211bHRpLWFkbWluJyxcbiAgICB9LFxuICB9KVxuXG4gIGF3YWl0IHBheWxvYWQuY3JlYXRlKHtcbiAgICBjb2xsZWN0aW9uOiAncGFnZXMnLFxuICAgIGRhdGE6IHtcbiAgICAgIHNsdWc6ICdob21lJyxcbiAgICAgIHRlbmFudDogdGVuYW50MS5pZCxcbiAgICAgIHRpdGxlOiAnUGFnZSBmb3IgVGVuYW50IDEnLFxuICAgIH0sXG4gIH0pXG5cbiAgYXdhaXQgcGF5bG9hZC5jcmVhdGUoe1xuICAgIGNvbGxlY3Rpb246ICdwYWdlcycsXG4gICAgZGF0YToge1xuICAgICAgc2x1ZzogJ2hvbWUnLFxuICAgICAgdGVuYW50OiB0ZW5hbnQyLmlkLFxuICAgICAgdGl0bGU6ICdQYWdlIGZvciBUZW5hbnQgMicsXG4gICAgfSxcbiAgfSlcblxuICBhd2FpdCBwYXlsb2FkLmNyZWF0ZSh7XG4gICAgY29sbGVjdGlvbjogJ3BhZ2VzJyxcbiAgICBkYXRhOiB7XG4gICAgICBzbHVnOiAnaG9tZScsXG4gICAgICB0ZW5hbnQ6IHRlbmFudDMuaWQsXG4gICAgICB0aXRsZTogJ1BhZ2UgZm9yIFRlbmFudCAzJyxcbiAgICB9LFxuICB9KVxufVxuIl0sIm5hbWVzIjpbInNlZWQiLCJwYXlsb2FkIiwidGVuYW50MSIsImNyZWF0ZSIsImNvbGxlY3Rpb24iLCJkYXRhIiwibmFtZSIsInNsdWciLCJkb21haW4iLCJ0ZW5hbnQyIiwidGVuYW50MyIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlcyIsIm9yZ2FuaXphdGlvbnMiLCJvcmdhbml6YXRpb24iLCJpZCIsInVzZXJuYW1lIiwidGVuYW50IiwidGl0bGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/seed.ts\n");

/***/ }),

/***/ "(rsc)/./src/utilities/extractID.ts":
/*!************************************!*\
  !*** ./src/utilities/extractID.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractID: () => (/* binding */ extractID)\n/* harmony export */ });\nconst extractID = (objectOrID)=>{\n    if (objectOrID && typeof objectOrID === 'object') return objectOrID.id;\n    return objectOrID;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbGl0aWVzL2V4dHJhY3RJRC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBR08sTUFBTUEsWUFBWSxDQUN2QkM7SUFFQSxJQUFJQSxjQUFjLE9BQU9BLGVBQWUsVUFBVSxPQUFPQSxXQUFXQyxFQUFFO0lBRXRFLE9BQU9EO0FBQ1QsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvc3JjL3V0aWxpdGllcy9leHRyYWN0SUQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnQC9wYXlsb2FkLXR5cGVzJ1xuaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uU2x1ZyB9IGZyb20gJ3BheWxvYWQnXG5cbmV4cG9ydCBjb25zdCBleHRyYWN0SUQgPSA8VCBleHRlbmRzIENvbmZpZ1snY29sbGVjdGlvbnMnXVtDb2xsZWN0aW9uU2x1Z10+KFxuICBvYmplY3RPcklEOiBUIHwgVFsnaWQnXSxcbik6IFRbJ2lkJ10gPT4ge1xuICBpZiAob2JqZWN0T3JJRCAmJiB0eXBlb2Ygb2JqZWN0T3JJRCA9PT0gJ29iamVjdCcpIHJldHVybiBvYmplY3RPcklELmlkXG5cbiAgcmV0dXJuIG9iamVjdE9ySURcbn1cbiJdLCJuYW1lcyI6WyJleHRyYWN0SUQiLCJvYmplY3RPcklEIiwiaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/utilities/extractID.ts\n");

/***/ }),

/***/ "(rsc)/./src/utilities/getCollectionIDType.ts":
/*!**********************************************!*\
  !*** ./src/utilities/getCollectionIDType.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCollectionIDType: () => (/* binding */ getCollectionIDType)\n/* harmony export */ });\nconst getCollectionIDType = ({ collectionSlug, payload })=>{\n    return payload.collections[collectionSlug]?.customIDType ?? payload.db.defaultIDType;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbGl0aWVzL2dldENvbGxlY3Rpb25JRFR5cGUudHMiLCJtYXBwaW5ncyI6Ijs7OztBQU1PLE1BQU1BLHNCQUFzQixDQUFDLEVBQUVDLGNBQWMsRUFBRUMsT0FBTyxFQUFRO0lBQ25FLE9BQU9BLFFBQVFDLFdBQVcsQ0FBQ0YsZUFBZSxFQUFFRyxnQkFBZ0JGLFFBQVFHLEVBQUUsQ0FBQ0MsYUFBYTtBQUN0RixFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvdXRpbGl0aWVzL2dldENvbGxlY3Rpb25JRFR5cGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uU2x1ZywgUGF5bG9hZCB9IGZyb20gJ3BheWxvYWQnXG5cbnR5cGUgQXJncyA9IHtcbiAgY29sbGVjdGlvblNsdWc6IENvbGxlY3Rpb25TbHVnXG4gIHBheWxvYWQ6IFBheWxvYWRcbn1cbmV4cG9ydCBjb25zdCBnZXRDb2xsZWN0aW9uSURUeXBlID0gKHsgY29sbGVjdGlvblNsdWcsIHBheWxvYWQgfTogQXJncyk6ICdudW1iZXInIHwgJ3RleHQnID0+IHtcbiAgcmV0dXJuIHBheWxvYWQuY29sbGVjdGlvbnNbY29sbGVjdGlvblNsdWddPy5jdXN0b21JRFR5cGUgPz8gcGF5bG9hZC5kYi5kZWZhdWx0SURUeXBlXG59XG4iXSwibmFtZXMiOlsiZ2V0Q29sbGVjdGlvbklEVHlwZSIsImNvbGxlY3Rpb25TbHVnIiwicGF5bG9hZCIsImNvbGxlY3Rpb25zIiwiY3VzdG9tSURUeXBlIiwiZGIiLCJkZWZhdWx0SURUeXBlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/utilities/getCollectionIDType.ts\n");

/***/ }),

/***/ "(rsc)/./src/utilities/getUserTenantIDs.ts":
/*!*******************************************!*\
  !*** ./src/utilities/getUserTenantIDs.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserTenantIDs: () => (/* binding */ getUserTenantIDs)\n/* harmony export */ });\n/* harmony import */ var _extractID__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./extractID */ \"(rsc)/./src/utilities/extractID.ts\");\n\n/**\n * Returns array of all tenant IDs assigned to a user\n *\n * @param user - User object with tenants field\n * @param role - Optional role to filter by\n */ const getUserTenantIDs = (user, role)=>{\n    if (!user) {\n        return [];\n    }\n    return user?.organizations?.reduce((acc, { roles, organization })=>{\n        if (role && !roles.includes(role)) {\n            return acc;\n        }\n        if (organization) {\n            acc.push((0,_extractID__WEBPACK_IMPORTED_MODULE_0__.extractID)(organization));\n        }\n        return acc;\n    }, []) || [];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbGl0aWVzL2dldFVzZXJUZW5hbnRJRHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDdUM7QUFFdkM7Ozs7O0NBS0MsR0FDTSxNQUFNQyxtQkFBbUIsQ0FDOUJDLE1BQ0FDO0lBRUEsSUFBSSxDQUFDRCxNQUFNO1FBQ1QsT0FBTyxFQUFFO0lBQ1g7SUFFQSxPQUNFQSxNQUFNRSxlQUFlQyxPQUE2QixDQUFDQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsWUFBWSxFQUFFO1FBQzdFLElBQUlMLFFBQVEsQ0FBQ0ksTUFBTUUsUUFBUSxDQUFDTixPQUFPO1lBQ2pDLE9BQU9HO1FBQ1Q7UUFFQSxJQUFJRSxjQUFjO1lBQ2hCRixJQUFJSSxJQUFJLENBQUNWLHFEQUFTQSxDQUFDUTtRQUNyQjtRQUVBLE9BQU9GO0lBQ1QsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUVoQixFQUFDIiwic291cmNlcyI6WyIvaG9tZS9sdWl6L0ltYWdlbnMvbXVsdGktdGVuYW50LWJ1Zy9zcmMvdXRpbGl0aWVzL2dldFVzZXJUZW5hbnRJRHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBPcmdhbml6YXRpb24sIFVzZXIgfSBmcm9tICcuLi9wYXlsb2FkLXR5cGVzJ1xuaW1wb3J0IHsgZXh0cmFjdElEIH0gZnJvbSAnLi9leHRyYWN0SUQnXG5cbi8qKlxuICogUmV0dXJucyBhcnJheSBvZiBhbGwgdGVuYW50IElEcyBhc3NpZ25lZCB0byBhIHVzZXJcbiAqXG4gKiBAcGFyYW0gdXNlciAtIFVzZXIgb2JqZWN0IHdpdGggdGVuYW50cyBmaWVsZFxuICogQHBhcmFtIHJvbGUgLSBPcHRpb25hbCByb2xlIHRvIGZpbHRlciBieVxuICovXG5leHBvcnQgY29uc3QgZ2V0VXNlclRlbmFudElEcyA9IChcbiAgdXNlcjogbnVsbCB8IFVzZXIsXG4gIHJvbGU/OiBOb25OdWxsYWJsZTxVc2VyWydvcmdhbml6YXRpb25zJ10+W251bWJlcl1bJ3JvbGVzJ11bbnVtYmVyXSxcbik6IE9yZ2FuaXphdGlvblsnaWQnXVtdID0+IHtcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cblxuICByZXR1cm4gKFxuICAgIHVzZXI/Lm9yZ2FuaXphdGlvbnM/LnJlZHVjZTxPcmdhbml6YXRpb25bJ2lkJ11bXT4oKGFjYywgeyByb2xlcywgb3JnYW5pemF0aW9uIH0pID0+IHtcbiAgICAgIGlmIChyb2xlICYmICFyb2xlcy5pbmNsdWRlcyhyb2xlKSkge1xuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9XG5cbiAgICAgIGlmIChvcmdhbml6YXRpb24pIHtcbiAgICAgICAgYWNjLnB1c2goZXh0cmFjdElEKG9yZ2FuaXphdGlvbikpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2NcbiAgICB9LCBbXSkgfHwgW11cbiAgKVxufVxuIl0sIm5hbWVzIjpbImV4dHJhY3RJRCIsImdldFVzZXJUZW5hbnRJRHMiLCJ1c2VyIiwicm9sZSIsIm9yZ2FuaXphdGlvbnMiLCJyZWR1Y2UiLCJhY2MiLCJyb2xlcyIsIm9yZ2FuaXphdGlvbiIsImluY2x1ZGVzIiwicHVzaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utilities/getUserTenantIDs.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/@payloadcms/richtext-lexical/dist/lexical/utils/environment.js */ \"(ssr)/./node_modules/@payloadcms/richtext-lexical/dist/lexical/utils/environment.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRmhvbWUlMkZsdWl6JTJGSW1hZ2VucyUyRm11bHRpLXRlbmFudC1idWclMkZub2RlX21vZHVsZXMlMkYlNDBwYXlsb2FkY21zJTJGcmljaHRleHQtbGV4aWNhbCUyRmRpc3QlMkZsZXhpY2FsJTJGdXRpbHMlMkZlbnZpcm9ubWVudC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMklTX1NBRkFSSSUyMiUyQyUyMklTX0lPUyUyMiUyQyUyMklTX0FQUExFX1dFQktJVCUyMiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsc1FBQThNIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJJU19TQUZBUklcIixcIklTX0lPU1wiLFwiSVNfQVBQTEVfV0VCS0lUXCJdICovIFwiL2hvbWUvbHVpei9JbWFnZW5zL211bHRpLXRlbmFudC1idWcvbm9kZV9tb2R1bGVzL0BwYXlsb2FkY21zL3JpY2h0ZXh0LWxleGljYWwvZGlzdC9sZXhpY2FsL3V0aWxzL2Vudmlyb25tZW50LmpzXCIpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fnode_modules%2F%40payloadcms%2Frichtext-lexical%2Fdist%2Flexical%2Futils%2Fenvironment.js%22%2C%22ids%22%3A%5B%22IS_SAFARI%22%2C%22IS_IOS%22%2C%22IS_APPLE_WEBKIT%22%5D%7D&server=true!\n");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql");

/***/ }),

/***/ "graphql/execution/values.js":
/*!**********************************************!*\
  !*** external "graphql/execution/values.js" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql/execution/values.js");

/***/ }),

/***/ "graphql/language/index.js":
/*!********************************************!*\
  !*** external "graphql/language/index.js" ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql/language/index.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/@vercel/og/index.node.js":
/*!**************************************************************!*\
  !*** external "next/dist/compiled/@vercel/og/index.node.js" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = import("next/dist/compiled/@vercel/og/index.node.js");;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:module":
/*!******************************!*\
  !*** external "node:module" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:module");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "pino":
/*!***********************!*\
  !*** external "pino" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("pino");

/***/ }),

/***/ "pino-pretty":
/*!******************************!*\
  !*** external "pino-pretty" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("pino-pretty");

/***/ }),

/***/ "prettier":
/*!***************************!*\
  !*** external "prettier" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = import("prettier");;

/***/ }),

/***/ "readline":
/*!***************************!*\
  !*** external "readline" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("readline");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/date-fns","vendor-chunks/@payloadcms","vendor-chunks/next","vendor-chunks/payload","vendor-chunks/lexical","vendor-chunks/@lexical","vendor-chunks/drizzle-orm","vendor-chunks/prompts","vendor-chunks/ws","vendor-chunks/jsox","vendor-chunks/qs-esm","vendor-chunks/jose","vendor-chunks/busboy","vendor-chunks/file-type","vendor-chunks/image-size","vendor-chunks/fast-uri","vendor-chunks/console-table-printer","vendor-chunks/http-status","vendor-chunks/bson-objectid","vendor-chunks/croner","vendor-chunks/path-to-regexp","vendor-chunks/dataloader","vendor-chunks/strtok3","vendor-chunks/pluralize","vendor-chunks/simple-wcswidth","vendor-chunks/token-types","vendor-chunks/streamsearch","vendor-chunks/uint8array-extras","vendor-chunks/ci-info","vendor-chunks/peek-readable","vendor-chunks/queue","vendor-chunks/deepmerge","vendor-chunks/uuid","vendor-chunks/kleur","vendor-chunks/fast-deep-equal","vendor-chunks/ieee754","vendor-chunks/resolve-pkg-maps","vendor-chunks/sanitize-filename","vendor-chunks/escape-html","vendor-chunks/sisteransi","vendor-chunks/to-no-case","vendor-chunks/scmp","vendor-chunks/truncate-utf8-bytes","vendor-chunks/inherits","vendor-chunks/to-space-case","vendor-chunks/to-snake-case","vendor-chunks/graphql-scalars","vendor-chunks/xss","vendor-chunks/cssfilter","vendor-chunks/graphql-http","vendor-chunks/graphql-playground-html"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fluiz%2FImagens%2Fmulti-tenant-bug&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();